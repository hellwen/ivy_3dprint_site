function MarkerClusterer(t,e,i){this.extend(MarkerClusterer,google.maps.OverlayView),this.map_=t,this.markers_=[],this.clusters_=[],this.sizes=[53,56,66,78,90],this.styles_=[],this.ready_=!1;var n=i||{};this.gridSize_=n.gridSize||60,this.minClusterSize_=n.minimumClusterSize||2,this.maxZoom_=n.maxZoom||null,this.styles_=n.styles||[],this.imagePath_=n.imagePath||this.MARKER_CLUSTER_IMAGE_PATH_,this.imageExtension_=n.imageExtension||this.MARKER_CLUSTER_IMAGE_EXTENSION_,this.zoomOnClick_=!0,n.zoomOnClick!=void 0&&(this.zoomOnClick_=n.zoomOnClick),this.averageCenter_=!1,n.averageCenter!=void 0&&(this.averageCenter_=n.averageCenter),this.setupStyles_(),this.setMap(t),this.prevZoom_=this.map_.getZoom();var r=this;google.maps.event.addListener(this.map_,"zoom_changed",function(){var t=r.map_.getZoom();r.prevZoom_!=t&&(r.prevZoom_=t,r.resetViewport())}),google.maps.event.addListener(this.map_,"idle",function(){r.redraw()}),e&&e.length&&this.addMarkers(e,!1)}function Cluster(t){this.markerClusterer_=t,this.map_=t.getMap(),this.gridSize_=t.getGridSize(),this.minClusterSize_=t.getMinClusterSize(),this.averageCenter_=t.isAverageCenter(),this.center_=null,this.markers_=[],this.bounds_=null,this.clusterIcon_=new ClusterIcon(this,t.getStyles(),t.getGridSize())}function ClusterIcon(t,e,i){t.getMarkerClusterer().extend(ClusterIcon,google.maps.OverlayView),this.styles_=e,this.padding_=i||0,this.cluster_=t,this.center_=null,this.map_=t.getMap(),this.div_=null,this.sums_=null,this.visible_=!1,this.setMap(this.map_)}function humaneDate(t,e){function i(t,e){var i=.1;return e>t||t>e*(1+i)?t:e}if(t){var n,r={ago:"Ago",from:"",now:"Just Now",minute:"Minute",minutes:"Minutes",hour:"Hour",hours:"Hours",day:"Day",days:"Days",week:"Week",weeks:"Weeks",month:"Month",months:"Months",year:"Year",years:"Years"},s=[[60,r.now],[3600,r.minute,r.minutes,60],[86400,r.hour,r.hours,3600],[604800,r.day,r.days,86400],[2628e3,r.week,r.weeks,604800],[31536e3,r.month,r.months,2628e3],[1/0,r.year,r.years,31536e3]],o=typeof t=="string",t=o?new Date((""+t).replace(/-/g,"/").replace(/[TZ]/g," ")):t,e=e||new Date,a=(e-t+(e.getTimezoneOffset()-(o?0:t.getTimezoneOffset()))*6e4)/1e3;0>a?(a=Math.abs(a),n=r.from?" "+r.from:""):n=r.ago?" "+r.ago:"";for(var u=0,l=s[0];s[u];l=s[++u])if(l[0]>a){if(u===0)return l[1];var h=Math.ceil(i(a,l[3])/l[3]);return h+" "+(h!=1?l[2]:l[1])+(u>0?n:"")}}}(function(t){"use strict";t.fn.fitVids=function(e){var i={customSelector:null,maxAspectRatio:.5625},n=document.createElement("div"),r=document.getElementsByTagName("base")[0]||document.getElementsByTagName("script")[0];return n.className="fit-vids-style",n.innerHTML="&shy;<style>               .fluid-width-video-wrapper {                 width: 100%;                              position: relative;                       padding: 0;                            }                                                                                   .fluid-width-video-wrapper iframe,        .fluid-width-video-wrapper object,        .fluid-width-video-wrapper embed {           position: absolute;                       top: 0;                                   left: 0;                                  width: 100%;                              height: 100%;                          }                                       </style>",r.parentNode.insertBefore(n,r),e&&t.extend(i,e),this.each(function(){var e=["iframe[src*='player.vimeo.com']","iframe[src*='www.youtube.com']","iframe[src*='www.youtube-nocookie.com']","iframe[src*='www.kickstarter.com']","object","embed"];i.customSelector&&e.push(i.customSelector);var n=t(this).find(e.join(","));n.each(function(){var e=t(this);if(!(this.tagName.toLowerCase()==="embed"&&e.parent("object").length||e.parent(".fluid-width-video-wrapper").length)){var n=this.tagName.toLowerCase()==="object"||e.attr("height")&&!isNaN(parseInt(e.attr("height"),10))?parseInt(e.attr("height"),10):e.height(),r=isNaN(parseInt(e.attr("width"),10))?e.width():parseInt(e.attr("width"),10),s=n/r;if(s>i.maxAspectRatio&&(s=i.maxAspectRatio),!e.attr("id")){var o="fitvid"+Math.floor(Math.random()*999999);e.attr("id",o)}e.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-bottom",s*100+"%"),e.removeAttr("height").removeAttr("width")}})})}})(jQuery),function(t){function e(t){return typeof t=="object"?t:{top:t,left:t}}var i=t.scrollTo=function(e,i,n){t(window).scrollTo(e,i,n)};i.defaults={axis:"xy",duration:1.3>parseFloat(t.fn.jquery)?1:0,limit:!0},i.window=function(){return t(window)._scrollable()},t.fn._scrollable=function(){return this.map(function(){var e=this,i=!e.nodeName||t.inArray(e.nodeName.toLowerCase(),["iframe","#document","html","body"])!=-1;if(!i)return e;var n=(e.contentWindow||e).document||e.ownerDocument||e;return/webkit/i.test(navigator.userAgent)||n.compatMode=="BackCompat"?n.body:n.documentElement})},t.fn.scrollTo=function(n,r,s){return typeof r=="object"&&(s=r,r=0),typeof s=="function"&&(s={onAfter:s}),n=="max"&&(n=9e9),s=t.extend({},i.defaults,s),r=r||s.duration,s.queue=s.queue&&s.axis.length>1,s.queue&&(r/=2),s.offset=e(s.offset),s.over=e(s.over),this._scrollable().each(function(){function o(t){l.animate(c,r,s.easing,t&&function(){t.call(this,n,s)})}if(n!=null){var a,u=this,l=t(u),h=n,c={},p=l.is("html,body");switch(typeof h){case"number":case"string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(h)){h=e(h);break}if(h=t(h,this),!h.length)return;case"object":(h.is||h.style)&&(a=(h=t(h)).offset())}t.each(s.axis.split(""),function(t,e){var n=e=="x"?"Left":"Top",r=n.toLowerCase(),f="scroll"+n,d=u[f],g=i.max(u,e);if(a)c[f]=a[r]+(p?0:d-l.offset()[r]),s.margin&&(c[f]-=parseInt(h.css("margin"+n))||0,c[f]-=parseInt(h.css("border"+n+"Width"))||0),c[f]+=s.offset[r]||0,s.over[r]&&(c[f]+=h[e=="x"?"width":"height"]()*s.over[r]);else{var m=h[r];c[f]=m.slice&&m.slice(-1)=="%"?parseFloat(m)/100*g:m}s.limit&&/^\d+$/.test(c[f])&&(c[f]=c[f]>0?Math.min(c[f],g):0),!t&&s.queue&&(d!=c[f]&&o(s.onAfterFirst),delete c[f])}),o(s.onAfter)}}).end()},i.max=function(e,i){var n=i=="x"?"Width":"Height",r="scroll"+n;if(!t(e).is("html,body"))return e[r]-t(e)[n.toLowerCase()]();var s="client"+n,o=e.ownerDocument.documentElement,a=e.ownerDocument.body;return Math.max(o[r],a[r])-Math.min(o[s],a[s])}}(jQuery),function($){$.extend({__stringPrototype:function(str){function makeRegExpGlobal(t){if(!t.source)return t;var e="g"+(t.ignoreCase?"i":"")+(t.multiline?"m":"");return RegExp(t.source,e)}var splitCheck="a b".split(/\w/)[0]==" ";this.str=str,this.JSONFilter=/^\/\*-secure-([\s\S]*)\*\/\s*$/,this.ScriptFragment="<script[^>]*>([\\S\\s]*?)</script>",this.specialChar={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\\":"\\\\"},this.blank=function(t){return/^\s*$/.test(this.s(t)||" ")},this.camelize=function(t){var e,i=this.s(t).split("-");for(t=[i[0]],e=1;i.length>e;e++)t.push(i[e].charAt(0).toUpperCase()+i[e].substring(1));return this.str=t.join(""),this},this.capitalize=function(t){return t=this.s(t),this.str=t.charAt(0).toUpperCase()+t.substring(1).toLowerCase(),this},this.dasherize=function(t){return this.str=this.s(t).split("_").join("-"),this},this.empty=function(t){return t?t=="":this.str==""},this.endsWith=function(t,e){e=this.s(e);var i=e.length-t.length;return i>=0&&e.lastIndexOf(t)===i},this.escapeHTML=function(t){return this.str=this.s(t).split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;"),this},this.evalJSON=function(sanitize,s){s=this.s(s);var json=this.unfilterJSON(!1,s).str;try{if(!sanitize||this.isJSON(json))return eval("("+json+")")}catch(e){}throw new SyntaxError("Badly formed JSON string: "+s)},this.evalScripts=function(s){var scriptTags=this.extractScripts(this.s(s)),results=[];if(scriptTags.length>0)for(var i=0;scriptTags.length>i;i++)results.push(eval(scriptTags[i]));return results},this.extractScripts=function(t){var e=RegExp(this.ScriptFragment,"img"),i=RegExp(this.ScriptFragment,"im"),n=this.s(t).match(e)||[],r=[];if(n.length>0)for(var s=0;n.length>s;s++)r.push(n[s].match(i)[1]||"");return r},this.gsub=function(t,e,i){if(i=this.s(i),$.isFunction(e)){var n=i.match(makeRegExpGlobal(t));if(n==null)return this;i=this.sub(t,e,n.length,i).str}else i=i.split(t).join(e);return this.str=i,this},this.include=function(t,e){return this.s(e).indexOf(t)>-1},this.inspect=function(t,e){e=this.s(e);var i=this.specialChar,n=this.gsub(/[\x00-\x1f\\]/,function(t){var e=i[t[0]];return e?e:"\\u00"+t[0].charCodeAt().toPaddedString(2,16)},e).str;return this.str=t?'"'+n.replace(/"/g,'\\"')+'"':"'"+n.replace(/'/g,"\\'")+"'",this},this.interpolate=function(t,e,i){i=this.s(i),e||(e=/(^|.|\r|\n)(\#\{\s*(\w+)\s*\})/);var n,r=0,s=i.length;while(e.match(i)&&s>r++)n=e.exec(i),i=this.gsub(n[2],t[n[3]],i).str;return this.str=i,this},this.isJSON=function(t){return t=this.s(t),this.blank(t)?!1:(t=t.replace(/\\./g,"@").replace(/"[^"\\\n\r]*"/g,""),/^[,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t]*$/.test(t))},this.scan=function(t,e,i){return i=this.s(i),this.gsub(t,e,i).str=i,this},this.startsWith=function(t,e){return this.s(e).indexOf(t)===0},this.strip=function(t){return this.str=$.trim(this.s(t)),this},this.stripScripts=function(t){return this.str=this.s(t).replace(RegExp(this.ScriptFragment,"img"),""),this},this.stripTags=function(t){return this.str=this.s(t).replace(/<\/?[^>]+>/gi,""),this},this.sub=function(t,e,i,n){if(n=this.s(n),i=i?i:1,0>i||isNaN(i))return this;t=makeRegExpGlobal(t);var r=n.split(t),s=n.match(t);splitCheck&&typeof t=="object"&&(i==s.length&&++i,n.indexOf(s[0])==0&&r.unshift(""),n.lastIndexOf(s[s.length-1])==n.length-s[s.length-1].length&&r.push("")),n=r[0];for(var o=1;r.length>o;o++)n+=o>i?(s[o-1]||s)+r[o]:$.isFunction(e)?e(s[o-1]||s)+r[o]:e+r[o];return this.str=n,this},this.succ=function(t){return t=this.s(t),this.str=t.slice(0,t.length-1)+String.fromCharCode(t.charCodeAt(t.length-1)+1),this},this.times=function(t,e){return this.str=1>t?"":Array(t+1).join(this.s(e)),this},this.toJSON=function(t){return this.inspect(!0,this.s(t))},this.toQueryParams=function(t,e){e=this.s(e);var i,n,r,s,o=e.substring(e.indexOf("?")+1).split("#")[0].split(t||"&"),a={};for(i=0;o.length>i;i++)s=o[i].split("="),n=decodeURIComponent(s[0]),r=s[1]?decodeURIComponent(s[1]):void 0,a[n]?(typeof a[n]=="string"&&(a[n]=[a[n]]),a[n].push(r)):a[n]=r;return a},this.truncate=function(t,e,i){return i=this.s(i),t=t||30,e=e?e:"...",i=i.length>t?i.slice(0,t-e.length)+e:i+"",this.str=i,this},this.underscore=function(t){return this.gsub(/[A-Z]/,function(t){return"_"+t.toLowerCase()},this.s(t)),this.str.substring(0,1)=="_"&&(this.str=this.str.substring(1)),this},this.unescapeHTML=function(t){return this.str=this.stripTags(this.s(t)).str.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">"),this},this.unfilterJSON=function(t,e){e=this.s(e),t=t||this.JSONFilter;var i=e.match(t);return this.str=i!==null?i[1]:e,this},this.value=function(){return this.str},this.s=function(t){return t?t:this.str}},string:function(t){return t!==String.prototype?new $.__stringPrototype(t):($.extend(String.prototype,new $.__stringPrototype),void 0)}}),$.__stringPrototype.parseQuery=$.__stringPrototype.toQueryParams}(jQuery),function(t){var e,i,n,r=t.event,s={_:0},o=0;e=r.special.throttledresize={setup:function(){t(this).on("resize",e.handler)},teardown:function(){t(this).off("resize",e.handler)},handler:function(a,u){var l=this,h=arguments;i=!0,n||(setInterval(function(){o++,(o>e.threshold&&i||u)&&(a.type="throttledresize",r.dispatch.apply(l,h),i=!1,o=0),o>9&&(t(s).stop(),n=!1,o=0)},30),n=!0)},threshold:0}}(jQuery),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(t,e,i,n,r){return jQuery.easing[jQuery.easing.def](t,e,i,n,r)},easeInQuad:function(t,e,i,n,r){return n*(e/=r)*e+i},easeOutQuad:function(t,e,i,n,r){return-n*(e/=r)*(e-2)+i},easeInOutQuad:function(t,e,i,n,r){return 1>(e/=r/2)?n/2*e*e+i:-n/2*(--e*(e-2)-1)+i},easeInCubic:function(t,e,i,n,r){return n*(e/=r)*e*e+i},easeOutCubic:function(t,e,i,n,r){return n*((e=e/r-1)*e*e+1)+i},easeInOutCubic:function(t,e,i,n,r){return 1>(e/=r/2)?n/2*e*e*e+i:n/2*((e-=2)*e*e+2)+i},easeInQuart:function(t,e,i,n,r){return n*(e/=r)*e*e*e+i},easeOutQuart:function(t,e,i,n,r){return-n*((e=e/r-1)*e*e*e-1)+i},easeInOutQuart:function(t,e,i,n,r){return 1>(e/=r/2)?n/2*e*e*e*e+i:-n/2*((e-=2)*e*e*e-2)+i},easeInQuint:function(t,e,i,n,r){return n*(e/=r)*e*e*e*e+i},easeOutQuint:function(t,e,i,n,r){return n*((e=e/r-1)*e*e*e*e+1)+i},easeInOutQuint:function(t,e,i,n,r){return 1>(e/=r/2)?n/2*e*e*e*e*e+i:n/2*((e-=2)*e*e*e*e+2)+i},easeInSine:function(t,e,i,n,r){return-n*Math.cos(e/r*(Math.PI/2))+n+i},easeOutSine:function(t,e,i,n,r){return n*Math.sin(e/r*(Math.PI/2))+i},easeInOutSine:function(t,e,i,n,r){return-n/2*(Math.cos(Math.PI*e/r)-1)+i},easeInExpo:function(t,e,i,n,r){return e==0?i:n*Math.pow(2,10*(e/r-1))+i},easeOutExpo:function(t,e,i,n,r){return e==r?i+n:n*(-Math.pow(2,-10*e/r)+1)+i},easeInOutExpo:function(t,e,i,n,r){return e==0?i:e==r?i+n:1>(e/=r/2)?n/2*Math.pow(2,10*(e-1))+i:n/2*(-Math.pow(2,-10*--e)+2)+i},easeInCirc:function(t,e,i,n,r){return-n*(Math.sqrt(1-(e/=r)*e)-1)+i},easeOutCirc:function(t,e,i,n,r){return n*Math.sqrt(1-(e=e/r-1)*e)+i},easeInOutCirc:function(t,e,i,n,r){return 1>(e/=r/2)?-n/2*(Math.sqrt(1-e*e)-1)+i:n/2*(Math.sqrt(1-(e-=2)*e)+1)+i},easeInElastic:function(t,e,i,n,r){t=1.70158;var s=0,o=n;return e==0?i:(e/=r)==1?i+n:(s||(s=r*.3),Math.abs(n)>o?(o=n,t=s/4):t=s/(2*Math.PI)*Math.asin(n/o),-(o*Math.pow(2,10*(e-=1))*Math.sin((e*r-t)*2*Math.PI/s))+i)},easeOutElastic:function(t,e,i,n,r){t=1.70158;var s=0,o=n;return e==0?i:(e/=r)==1?i+n:(s||(s=r*.3),Math.abs(n)>o?(o=n,t=s/4):t=s/(2*Math.PI)*Math.asin(n/o),o*Math.pow(2,-10*e)*Math.sin((e*r-t)*2*Math.PI/s)+n+i)},easeInOutElastic:function(t,e,i,n,r){t=1.70158;var s=0,o=n;return e==0?i:(e/=r/2)==2?i+n:(s||(s=r*.3*1.5),Math.abs(n)>o?(o=n,t=s/4):t=s/(2*Math.PI)*Math.asin(n/o),1>e?-.5*o*Math.pow(2,10*(e-=1))*Math.sin((e*r-t)*2*Math.PI/s)+i:o*Math.pow(2,-10*(e-=1))*Math.sin((e*r-t)*2*Math.PI/s)*.5+n+i)},easeInBack:function(t,e,i,n,r,s){return s==void 0&&(s=1.70158),n*(e/=r)*e*((s+1)*e-s)+i},easeOutBack:function(t,e,i,n,r,s){return s==void 0&&(s=1.70158),n*((e=e/r-1)*e*((s+1)*e+s)+1)+i},easeInOutBack:function(t,e,i,n,r,s){return s==void 0&&(s=1.70158),1>(e/=r/2)?n/2*e*e*(((s*=1.525)+1)*e-s)+i:n/2*((e-=2)*e*(((s*=1.525)+1)*e+s)+2)+i},easeInBounce:function(t,e,i,n,r){return n-jQuery.easing.easeOutBounce(t,r-e,0,n,r)+i},easeOutBounce:function(t,e,i,n,r){return 1/2.75>(e/=r)?n*7.5625*e*e+i:2/2.75>e?n*(7.5625*(e-=1.5/2.75)*e+.75)+i:2.5/2.75>e?n*(7.5625*(e-=2.25/2.75)*e+.9375)+i:n*(7.5625*(e-=2.625/2.75)*e+.984375)+i},easeInOutBounce:function(t,e,i,n,r){return r/2>e?jQuery.easing.easeInBounce(t,e*2,0,n,r)*.5+i:jQuery.easing.easeOutBounce(t,e*2-r,0,n,r)*.5+n*.5+i}}),function(t,e){function i(e,i){var r,s,o,a=e.nodeName.toLowerCase();return"area"===a?(r=e.parentNode,s=r.name,e.href&&s&&r.nodeName.toLowerCase()==="map"?(o=t("img[usemap=#"+s+"]")[0],!!o&&n(o)):!1):(/input|select|textarea|button|object/.test(a)?!e.disabled:"a"===a?e.href||i:i)&&n(e)}function n(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return t.css(this,"visibility")==="hidden"}).length}var r=0,s=/^ui-id-\d+$/;t.ui=t.ui||{},t.extend(t.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({focus:function(e){return function(i,n){return typeof i=="number"?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),n&&n.call(e)},i)}):e.apply(this,arguments)}}(t.fn.focus),scrollParent:function(){var e;return e=t.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(t.css(this,"position"))&&/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!e.length?t(document):e},zIndex:function(i){if(i!==e)return this.css("zIndex",i);if(this.length){var n,r,s=t(this[0]);while(s.length&&s[0]!==document){if(n=s.css("position"),(n==="absolute"||n==="relative"||n==="fixed")&&(r=parseInt(s.css("zIndex"),10),!isNaN(r)&&r!==0))return r;s=s.parent()}}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++r)})},removeUniqueId:function(){return this.each(function(){s.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,n){return!!t.data(e,n[3])},focusable:function(e){return i(e,!isNaN(t.attr(e,"tabindex")))},tabbable:function(e){var n=t.attr(e,"tabindex"),r=isNaN(n);return(r||n>=0)&&i(e,!r)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(i,n){function r(e,i,n,r){return t.each(s,function(){i-=parseFloat(t.css(e,"padding"+this))||0,n&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),r&&(i-=parseFloat(t.css(e,"margin"+this))||0)}),i}var s=n==="Width"?["Left","Right"]:["Top","Bottom"],o=n.toLowerCase(),a={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+n]=function(i){return i===e?a["inner"+n].call(this):this.each(function(){t(this).css(o,r(this,i)+"px")})},t.fn["outer"+n]=function(e,i){return typeof e!="number"?a["outer"+n].call(this,e):this.each(function(){t(this).css(o,r(this,e,!0,i)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(t==null?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(i){return arguments.length?e.call(this,t.camelCase(i)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.support.selectstart="onselectstart"in document.createElement("div"),t.fn.extend({disableSelection:function(){return this.bind((t.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(t){t.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),t.extend(t.ui,{plugin:{add:function(e,i,n){var r,s=t.ui[e].prototype;for(r in n)s.plugins[r]=s.plugins[r]||[],s.plugins[r].push([i,n[r]])},call:function(t,e,i){var n,r=t.plugins[e];if(r&&t.element[0].parentNode&&t.element[0].parentNode.nodeType!==11)for(n=0;r.length>n;n++)t.options[r[n][0]]&&r[n][1].apply(t.element,i)}},hasScroll:function(e,i){if(t(e).css("overflow")==="hidden")return!1;var n=i&&i==="left"?"scrollLeft":"scrollTop",r=!1;return e[n]>0?!0:(e[n]=1,r=e[n]>0,e[n]=0,r)}})}(jQuery),function(t,e){var i=0,n=Array.prototype.slice,r=t.cleanData;t.cleanData=function(e){for(var i,n=0;(i=e[n])!=null;n++)try{t(i).triggerHandler("remove")}catch(s){}r(e)},t.widget=function(i,n,r){var s,o,a,u,l={},h=i.split(".")[0];i=i.split(".")[1],s=h+"-"+i,r||(r=n,n=t.Widget),t.expr[":"][s.toLowerCase()]=function(e){return!!t.data(e,s)},t[h]=t[h]||{},o=t[h][i],a=t[h][i]=function(t,i){return this._createWidget?(arguments.length&&this._createWidget(t,i),e):new a(t,i)},t.extend(a,o,{version:r.version,_proto:t.extend({},r),_childConstructors:[]}),u=new n,u.options=t.widget.extend({},u.options),t.each(r,function(i,r){return t.isFunction(r)?(l[i]=function(){var t=function(){return n.prototype[i].apply(this,arguments)},e=function(t){return n.prototype[i].apply(this,t)};return function(){var i,n=this._super,s=this._superApply;return this._super=t,this._superApply=e,i=r.apply(this,arguments),this._super=n,this._superApply=s,i}}(),e):(l[i]=r,e)}),a.prototype=t.widget.extend(u,{widgetEventPrefix:o?u.widgetEventPrefix:i},l,{constructor:a,namespace:h,widgetName:i,widgetFullName:s}),o?(t.each(o._childConstructors,function(e,i){var n=i.prototype;t.widget(n.namespace+"."+n.widgetName,a,i._proto)}),delete o._childConstructors):n._childConstructors.push(a),t.widget.bridge(i,a)},t.widget.extend=function(i){for(var r,s,o=n.call(arguments,1),a=0,u=o.length;u>a;a++)for(r in o[a])s=o[a][r],o[a].hasOwnProperty(r)&&s!==e&&(i[r]=t.isPlainObject(s)?t.isPlainObject(i[r])?t.widget.extend({},i[r],s):t.widget.extend({},s):s);return i},t.widget.bridge=function(i,r){var s=r.prototype.widgetFullName||i;t.fn[i]=function(o){var a=typeof o=="string",u=n.call(arguments,1),l=this;return o=!a&&u.length?t.widget.extend.apply(null,[o].concat(u)):o,a?this.each(function(){var n,r=t.data(this,s);return r?t.isFunction(r[o])&&o.charAt(0)!=="_"?(n=r[o].apply(r,u),n!==r&&n!==e?(l=n&&n.jquery?l.pushStack(n.get()):n,!1):e):t.error("no such method '"+o+"' for "+i+" widget instance"):t.error("cannot call methods on "+i+" prior to initialization; "+"attempted to call method '"+o+"'")}):this.each(function(){var e=t.data(this,s);e?e.option(o||{})._init():t.data(this,s,new r(o,this))}),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,n){n=t(n||this.defaultElement||this)[0],this.element=t(n),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=t(),this.hoverable=t(),this.focusable=t(),n!==this&&(t.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===n&&this.destroy()}}),this.document=t(n.style?n.ownerDocument:n.document||n),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(i,n){var r,s,o,a=i;if(arguments.length===0)return t.widget.extend({},this.options);if(typeof i=="string")if(a={},r=i.split("."),i=r.shift(),r.length){for(s=a[i]=t.widget.extend({},this.options[i]),o=0;r.length-1>o;o++)s[r[o]]=s[r[o]]||{},s=s[r[o]];if(i=r.pop(),n===e)return s[i]===e?null:s[i];s[i]=n}else{if(n===e)return this.options[i]===e?null:this.options[i];a[i]=n}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,t==="disabled"&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!e).attr("aria-disabled",e),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(i,n,r){var s,o=this;typeof i!="boolean"&&(r=n,n=i,i=!1),r?(n=s=t(n),this.bindings=this.bindings.add(n)):(r=n,n=this.element,s=this.widget()),t.each(r,function(r,a){function u(){return i||o.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?(typeof a=="string"?o[a]:a).apply(o,arguments):e}typeof a!="string"&&(u.guid=a.guid=a.guid||u.guid||t.guid++);var l=r.match(/^(\w+)\s*(.*)$/),h=l[1]+o.eventNamespace,c=l[2];c?s.delegate(c,h,u):n.bind(h,u)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){function i(){return(typeof t=="string"?n[t]:t).apply(n,arguments)}var n=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,i,n){var r,s,o=this.options[e];if(n=n||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],s=i.originalEvent)for(r in s)r in i||(i[r]=s[r]);return this.element.trigger(i,n),!(t.isFunction(o)&&o.apply(this.element[0],[i].concat(n))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(n,r,s){typeof r=="string"&&(r={effect:r});var o,a=r?r===!0||typeof r=="number"?i:r.effect||i:e;r=r||{},typeof r=="number"&&(r={duration:r}),o=!t.isEmptyObject(r),r.complete=s,r.delay&&n.delay(r.delay),o&&t.effects&&t.effects.effect[a]?n[e](r):a!==e&&n[a]?n[a](r.duration,r.easing,s):n.queue(function(i){t(this)[e](),s&&s.call(n[0]),i()})}})}(jQuery),function(t){var e=!1;t(document).mouseup(function(){e=!1}),t.widget("ui.mouse",{version:"1.10.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(i){return!0===t.data(i.target,e.widgetName+".preventClickEvent")?(t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):undefined}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!e){this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var n=this,r=i.which===1,s=typeof this.options.cancel=="string"&&i.target.nodeName?t(i.target).closest(this.options.cancel).length:!1;return r&&!s&&this._mouseCapture(i)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=this._mouseStart(i)!==!1,!this._mouseStarted)?(i.preventDefault(),!0):(!0===t.data(i.target,this.widgetName+".preventClickEvent")&&t.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return n._mouseMove(t)},this._mouseUpDelegate=function(t){return n._mouseUp(t)},t(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),e=!0,!0)):!0}},_mouseMove:function(e){return!t.ui.ie||document.documentMode&&document.documentMode>=9||e.button?this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted):this._mouseUp(e)},_mouseUp:function(e){return t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(t,e){function i(t,e,i){return[parseFloat(t[0])*(f.test(t[0])?e/100:1),parseFloat(t[1])*(f.test(t[1])?i/100:1)]}function n(e,i){return parseInt(t.css(e,i),10)||0}function r(e){var i=e[0];return i.nodeType===9?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}t.ui=t.ui||{};var s,o=Math.max,a=Math.abs,u=Math.round,l=/left|center|right/,h=/top|center|bottom/,c=/[\+\-]\d+(\.[\d]+)?%?/,p=/^\w+/,f=/%$/,d=t.fn.position;t.position={scrollbarWidth:function(){if(s!==e)return s;var i,n,r=t("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=r.children()[0];return t("body").append(r),i=o.offsetWidth,r.css("overflow","scroll"),n=o.offsetWidth,i===n&&(n=r[0].clientWidth),r.remove(),s=i-n},getScrollInfo:function(e){var i=e.isWindow?"":e.element.css("overflow-x"),n=e.isWindow?"":e.element.css("overflow-y"),r=i==="scroll"||i==="auto"&&e.element[0].scrollWidth>e.width,s=n==="scroll"||n==="auto"&&e.element[0].scrollHeight>e.height;return{width:s?t.position.scrollbarWidth():0,height:r?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),n=t.isWindow(i[0]);return{element:i,isWindow:n,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:n?i.width():i.outerWidth(),height:n?i.height():i.outerHeight()}}},t.fn.position=function(e){if(!e||!e.of)return d.apply(this,arguments);e=t.extend({},e);var s,f,g,m,v,y,_=t(e.of),b=t.position.getWithinInfo(e.within),w=t.position.getScrollInfo(b),x=(e.collision||"flip").split(" "),C={};return y=r(_),_[0].preventDefault&&(e.at="left top"),f=y.width,g=y.height,m=y.offset,v=t.extend({},m),t.each(["my","at"],function(){var t,i,n=(e[this]||"").split(" ");n.length===1&&(n=l.test(n[0])?n.concat(["center"]):h.test(n[0])?["center"].concat(n):["center","center"]),n[0]=l.test(n[0])?n[0]:"center",n[1]=h.test(n[1])?n[1]:"center",t=c.exec(n[0]),i=c.exec(n[1]),C[this]=[t?t[0]:0,i?i[0]:0],e[this]=[p.exec(n[0])[0],p.exec(n[1])[0]]}),x.length===1&&(x[1]=x[0]),e.at[0]==="right"?v.left+=f:e.at[0]==="center"&&(v.left+=f/2),e.at[1]==="bottom"?v.top+=g:e.at[1]==="center"&&(v.top+=g/2),s=i(C.at,f,g),v.left+=s[0],v.top+=s[1],this.each(function(){var r,l,h=t(this),c=h.outerWidth(),p=h.outerHeight(),d=n(this,"marginLeft"),y=n(this,"marginTop"),k=c+d+n(this,"marginRight")+w.width,M=p+y+n(this,"marginBottom")+w.height,E=t.extend({},v),S=i(C.my,h.outerWidth(),h.outerHeight());e.my[0]==="right"?E.left-=c:e.my[0]==="center"&&(E.left-=c/2),e.my[1]==="bottom"?E.top-=p:e.my[1]==="center"&&(E.top-=p/2),E.left+=S[0],E.top+=S[1],t.support.offsetFractions||(E.left=u(E.left),E.top=u(E.top)),r={marginLeft:d,marginTop:y},t.each(["left","top"],function(i,n){t.ui.position[x[i]]&&t.ui.position[x[i]][n](E,{targetWidth:f,targetHeight:g,elemWidth:c,elemHeight:p,collisionPosition:r,collisionWidth:k,collisionHeight:M,offset:[s[0]+S[0],s[1]+S[1]],my:e.my,at:e.at,within:b,elem:h})}),e.using&&(l=function(t){var i=m.left-E.left,n=i+f-c,r=m.top-E.top,s=r+g-p,u={target:{element:_,left:m.left,top:m.top,width:f,height:g},element:{element:h,left:E.left,top:E.top,width:c,height:p},horizontal:0>n?"left":i>0?"right":"center",vertical:0>s?"top":r>0?"bottom":"middle"};c>f&&f>a(i+n)&&(u.horizontal="center"),p>g&&g>a(r+s)&&(u.vertical="middle"),u.important=o(a(i),a(n))>o(a(r),a(s))?"horizontal":"vertical",e.using.call(this,t,u)}),h.offset(t.extend(E,{using:l}))})},t.ui.position={fit:{left:function(t,e){var i,n=e.within,r=n.isWindow?n.scrollLeft:n.offset.left,s=n.width,a=t.left-e.collisionPosition.marginLeft,u=r-a,l=a+e.collisionWidth-s-r;e.collisionWidth>s?u>0&&0>=l?(i=t.left+u+e.collisionWidth-s-r,t.left+=u-i):t.left=l>0&&0>=u?r:u>l?r+s-e.collisionWidth:r:u>0?t.left+=u:l>0?t.left-=l:t.left=o(t.left-a,t.left)},top:function(t,e){var i,n=e.within,r=n.isWindow?n.scrollTop:n.offset.top,s=e.within.height,a=t.top-e.collisionPosition.marginTop,u=r-a,l=a+e.collisionHeight-s-r;
e.collisionHeight>s?u>0&&0>=l?(i=t.top+u+e.collisionHeight-s-r,t.top+=u-i):t.top=l>0&&0>=u?r:u>l?r+s-e.collisionHeight:r:u>0?t.top+=u:l>0?t.top-=l:t.top=o(t.top-a,t.top)}},flip:{left:function(t,e){var i,n,r=e.within,s=r.offset.left+r.scrollLeft,o=r.width,u=r.isWindow?r.scrollLeft:r.offset.left,l=t.left-e.collisionPosition.marginLeft,h=l-u,c=l+e.collisionWidth-o-u,p=e.my[0]==="left"?-e.elemWidth:e.my[0]==="right"?e.elemWidth:0,f=e.at[0]==="left"?e.targetWidth:e.at[0]==="right"?-e.targetWidth:0,d=-2*e.offset[0];0>h?(i=t.left+p+f+d+e.collisionWidth-o-s,(0>i||a(h)>i)&&(t.left+=p+f+d)):c>0&&(n=t.left-e.collisionPosition.marginLeft+p+f+d-u,(n>0||c>a(n))&&(t.left+=p+f+d))},top:function(t,e){var i,n,r=e.within,s=r.offset.top+r.scrollTop,o=r.height,u=r.isWindow?r.scrollTop:r.offset.top,l=t.top-e.collisionPosition.marginTop,h=l-u,c=l+e.collisionHeight-o-u,p=e.my[1]==="top",f=p?-e.elemHeight:e.my[1]==="bottom"?e.elemHeight:0,d=e.at[1]==="top"?e.targetHeight:e.at[1]==="bottom"?-e.targetHeight:0,g=-2*e.offset[1];0>h?(n=t.top+f+d+g+e.collisionHeight-o-s,t.top+f+d+g>h&&(0>n||a(h)>n)&&(t.top+=f+d+g)):c>0&&(i=t.top-e.collisionPosition.marginTop+f+d+g-u,t.top+f+d+g>c&&(i>0||c>a(i))&&(t.top+=f+d+g))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}},function(){var e,i,n,r,s,o=document.getElementsByTagName("body")[0],a=document.createElement("div");e=document.createElement(o?"div":"body"),n={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},o&&t.extend(n,{position:"absolute",left:"-1000px",top:"-1000px"});for(s in n)e.style[s]=n[s];e.appendChild(a),i=o||document.documentElement,i.insertBefore(e,i.firstChild),a.style.cssText="position: absolute; left: 10.7432222px;",r=t(a).offset().left,t.support.offsetFractions=r>10&&11>r,e.innerHTML="",i.removeChild(e)}()}(jQuery),function(t){var e=5;t.widget("ui.slider",t.ui.mouse,{version:"1.10.3",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget"+" ui-widget-content"+" ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,i,n=this.options,r=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),s="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",o=[];for(i=n.values&&n.values.length||1,r.length>i&&(r.slice(i).remove(),r=r.slice(0,i)),e=r.length;i>e;e++)o.push(s);this.handles=r.add(t(o.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e)})},_createRange:function(){var e=this.options,i="";e.range?(e.range===!0&&(e.values?e.values.length&&e.values.length!==2?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=t("<div></div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+(e.range==="min"||e.range==="max"?" ui-slider-range-"+e.range:""))):this.range=t([])},_setupEvents:function(){var t=this.handles.add(this.range).filter("a");this._off(t),this._on(t,this._handleEvents),this._hoverable(t),this._focusable(t)},_destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(e){var i,n,r,s,o,a,u,l,h=this,c=this.options;return c.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(i),r=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var i=Math.abs(n-h.values(e));(r>i||r===i&&(e===h._lastChangedValue||h.values(e)===c.min))&&(r=i,s=t(this),o=e)}),a=this._start(e,o),a===!1?!1:(this._mouseSliding=!0,this._handleIndex=o,s.addClass("ui-state-active").focus(),u=s.offset(),l=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:e.pageX-u.left-s.width()/2,top:e.pageY-u.top-s.height()/2-(parseInt(s.css("borderTopWidth"),10)||0)-(parseInt(s.css("borderBottomWidth"),10)||0)+(parseInt(s.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,o,n),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,i),!1},_mouseStop:function(t){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,i,n,r,s;return this.orientation==="horizontal"?(e=this.elementSize.width,i=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,i=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),n=i/e,n>1&&(n=1),0>n&&(n=0),this.orientation==="vertical"&&(n=1-n),r=this._valueMax()-this._valueMin(),s=this._valueMin()+n*r,this._trimAlignValue(s)},_start:function(t,e){var i={handle:this.handles[e],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("start",t,i)},_slide:function(t,e,i){var n,r,s;this.options.values&&this.options.values.length?(n=this.values(e?0:1),this.options.values.length===2&&this.options.range===!0&&(e===0&&i>n||e===1&&n>i)&&(i=n),i!==this.values(e)&&(r=this.values(),r[e]=i,s=this._trigger("slide",t,{handle:this.handles[e],value:i,values:r}),n=this.values(e?0:1),s!==!1&&this.values(e,i,!0))):i!==this.value()&&(s=this._trigger("slide",t,{handle:this.handles[e],value:i}),s!==!1&&this.value(i))},_stop:function(t,e){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("stop",t,i)},_change:function(t,e){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._lastChangedValue=e,this._trigger("change",t,i)}},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),this._change(null,0),undefined):this._value()},values:function(e,i){var n,r,s;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(i),this._refreshValue(),this._change(null,e),undefined;if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(e):this.value();for(n=this.options.values,r=arguments[0],s=0;n.length>s;s+=1)n[s]=this._trimAlignValue(r[s]),this._change(null,s);this._refreshValue()},_setOption:function(e,i){var n,r=0;switch(e==="range"&&this.options.range===!0&&(i==="min"?(this.options.value=this._values(0),this.options.values=null):i==="max"&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(r=this.options.values.length),t.Widget.prototype._setOption.apply(this,arguments),e){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=0;r>n;n+=1)this._change(null,n);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,i,n;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),n=0;i.length>n;n+=1)i[n]=this._trimAlignValue(i[n]);return i}return[]},_trimAlignValue:function(t){if(this._valueMin()>=t)return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,i=(t-this._valueMin())%e,n=t-i;return e>Math.abs(i)*2||(n+=i>0?e:-e),parseFloat(n.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var e,i,n,r,s,o=this.options.range,a=this.options,u=this,l=this._animateOff?!1:a.animate,h={};this.options.values&&this.options.values.length?this.handles.each(function(n){i=(u.values(n)-u._valueMin())/(u._valueMax()-u._valueMin())*100,h[u.orientation==="horizontal"?"left":"bottom"]=i+"%",t(this).stop(1,1)[l?"animate":"css"](h,a.animate),u.options.range===!0&&(u.orientation==="horizontal"?(n===0&&u.range.stop(1,1)[l?"animate":"css"]({left:i+"%"},a.animate),n===1&&u.range[l?"animate":"css"]({width:i-e+"%"},{queue:!1,duration:a.animate})):(n===0&&u.range.stop(1,1)[l?"animate":"css"]({bottom:i+"%"},a.animate),n===1&&u.range[l?"animate":"css"]({height:i-e+"%"},{queue:!1,duration:a.animate}))),e=i}):(n=this.value(),r=this._valueMin(),s=this._valueMax(),i=s!==r?(n-r)/(s-r)*100:0,h[this.orientation==="horizontal"?"left":"bottom"]=i+"%",this.handle.stop(1,1)[l?"animate":"css"](h,a.animate),o==="min"&&this.orientation==="horizontal"&&this.range.stop(1,1)[l?"animate":"css"]({width:i+"%"},a.animate),o==="max"&&this.orientation==="horizontal"&&this.range[l?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:a.animate}),o==="min"&&this.orientation==="vertical"&&this.range.stop(1,1)[l?"animate":"css"]({height:i+"%"},a.animate),o==="max"&&this.orientation==="vertical"&&this.range[l?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:a.animate}))},_handleEvents:{keydown:function(i){var n,r,s,o,a=t(i.target).data("ui-slider-handle-index");switch(i.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(i.preventDefault(),!this._keySliding&&(this._keySliding=!0,t(i.target).addClass("ui-state-active"),n=this._start(i,a),n===!1))return}switch(o=this.options.step,r=s=this.options.values&&this.options.values.length?this.values(a):this.value(),i.keyCode){case t.ui.keyCode.HOME:s=this._valueMin();break;case t.ui.keyCode.END:s=this._valueMax();break;case t.ui.keyCode.PAGE_UP:s=this._trimAlignValue(r+(this._valueMax()-this._valueMin())/e);break;case t.ui.keyCode.PAGE_DOWN:s=this._trimAlignValue(r-(this._valueMax()-this._valueMin())/e);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(r===this._valueMax())return;s=this._trimAlignValue(r+o);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(r===this._valueMin())return;s=this._trimAlignValue(r-o)}this._slide(i,a,s)},click:function(t){t.preventDefault()},keyup:function(e){var i=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,i),this._change(e,i),t(e.target).removeClass("ui-state-active"))}}})}(jQuery),function(t){"use strict";function e(t){if(t){if("string"==typeof n[t])return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var e,r=0,s=i.length;s>r;r++)if(e=i[r]+t,"string"==typeof n[e])return e}}var i="Webkit Moz ms Ms O".split(" "),n=document.documentElement.style;"function"==typeof define&&define.amd?define(function(){return e}):t.getStyleProperty=e}(window),function(t){"use strict";function e(t){var e=parseFloat(t),i=-1===t.indexOf("%")&&!isNaN(e);return i&&e}function i(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0,i=o.length;i>e;e++){var n=o[e];t[n]=0}return t}function n(t){function n(t){if("string"==typeof t&&(t=document.querySelector(t)),t&&"object"==typeof t&&t.nodeType){var n=s(t);if("none"===n.display)return i();var u={};u.width=t.offsetWidth,u.height=t.offsetHeight;for(var l=u.isBorderBox=a&&n[a]&&"border-box"===n[a],h=0,c=o.length;c>h;h++){var p=o[h],f=n[p],d=parseFloat(f);u[p]=isNaN(d)?0:d}var g=u.paddingLeft+u.paddingRight,m=u.paddingTop+u.paddingBottom,v=u.marginLeft+u.marginRight,y=u.marginTop+u.marginBottom,_=u.borderLeftWidth+u.borderRightWidth,b=u.borderTopWidth+u.borderBottomWidth,w=l&&r,x=e(n.width);x!==!1&&(u.width=x+(w?0:g+_));var C=e(n.height);return C!==!1&&(u.height=C+(w?0:m+b)),u.innerWidth=u.width-(g+_),u.innerHeight=u.height-(m+b),u.outerWidth=u.width+v,u.outerHeight=u.height+y,u}}var r,a=t("boxSizing");return function(){if(a){var t=document.createElement("div");t.style.width="200px",t.style.padding="1px 2px 3px 4px",t.style.borderStyle="solid",t.style.borderWidth="1px 2px 3px 4px",t.style[a]="border-box";var i=document.body||document.documentElement;i.appendChild(t);var n=s(t);r=200===e(n.width),i.removeChild(t)}}(),n}var r=document.defaultView,s=r&&r.getComputedStyle?function(t){return r.getComputedStyle(t,null)}:function(t){return t.currentStyle},o=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof define&&define.amd?define(["get-style-property/get-style-property"],n):t.getSize=n(t.getStyleProperty)}(window),function(t){"use strict";var e=document.documentElement,i=function(){};e.addEventListener?i=function(t,e,i){t.addEventListener(e,i,!1)}:e.attachEvent&&(i=function(e,i,n){e[i+n]=n.handleEvent?function(){var e=t.event;e.target=e.target||e.srcElement,n.handleEvent.call(n,e)}:function(){var i=t.event;i.target=i.target||i.srcElement,n.call(e,i)},e.attachEvent("on"+i,e[i+n])});var n=function(){};e.removeEventListener?n=function(t,e,i){t.removeEventListener(e,i,!1)}:e.detachEvent&&(n=function(t,e,i){t.detachEvent("on"+e,t[e+i]);try{delete t[e+i]}catch(n){t[e+i]=void 0}});var r={bind:i,unbind:n};"function"==typeof define&&define.amd?define(r):t.eventie=r}(this),function(t){"use strict";function e(t){"function"==typeof t&&(e.isReady?t():s.push(t))}function i(t){var i="readystatechange"===t.type&&"complete"!==r.readyState;if(!e.isReady&&!i){e.isReady=!0;for(var n=0,o=s.length;o>n;n++){var a=s[n];a()}}}function n(n){return n.bind(r,"DOMContentLoaded",i),n.bind(r,"readystatechange",i),n.bind(t,"load",i),e}var r=t.document,s=[];e.isReady=!1,"function"==typeof define&&define.amd?define(["eventie/eventie"],n):t.docReady=n(t.eventie)}(this),function(){"use strict";function t(){}function e(t,e){for(var i=t.length;i--;)if(t[i].listener===e)return i;return-1}var i=t.prototype;i.getListeners=function(t){var e,i,n=this._getEvents();if("object"==typeof t){e={};for(i in n)n.hasOwnProperty(i)&&t.test(i)&&(e[i]=n[i])}else e=n[t]||(n[t]=[]);return e},i.flattenListeners=function(t){var e,i=[];for(e=0;t.length>e;e+=1)i.push(t[e].listener);return i},i.getListenersAsObject=function(t){var e,i=this.getListeners(t);return i instanceof Array&&(e={},e[t]=i),e||i},i.addListener=function(t,i){var n,r=this.getListenersAsObject(t),s="object"==typeof i;for(n in r)r.hasOwnProperty(n)&&-1===e(r[n],i)&&r[n].push(s?i:{listener:i,once:!1});return this},i.on=i.addListener,i.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},i.once=i.addOnceListener,i.defineEvent=function(t){return this.getListeners(t),this},i.defineEvents=function(t){for(var e=0;t.length>e;e+=1)this.defineEvent(t[e]);return this},i.removeListener=function(t,i){var n,r,s=this.getListenersAsObject(t);for(r in s)s.hasOwnProperty(r)&&(n=e(s[r],i),-1!==n&&s[r].splice(n,1));return this},i.off=i.removeListener,i.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},i.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},i.manipulateListeners=function(t,e,i){var n,r,s=t?this.removeListener:this.addListener,o=t?this.removeListeners:this.addListeners;if("object"!=typeof e||e instanceof RegExp)for(n=i.length;n--;)s.call(this,e,i[n]);else for(n in e)e.hasOwnProperty(n)&&(r=e[n])&&("function"==typeof r?s.call(this,n,r):o.call(this,n,r));return this},i.removeEvent=function(t){var e,i=typeof t,n=this._getEvents();if("string"===i)delete n[t];else if("object"===i)for(e in n)n.hasOwnProperty(e)&&t.test(e)&&delete n[e];else delete this._events;return this},i.emitEvent=function(t,e){var i,n,r,s,o=this.getListenersAsObject(t);for(r in o)if(o.hasOwnProperty(r))for(n=o[r].length;n--;)i=o[r][n],s=i.listener.apply(this,e||[]),(s===this._getOnceReturnValue()||i.once===!0)&&this.removeListener(t,o[r][n].listener);return this},i.trigger=i.emitEvent,i.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},i.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},i._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},i._getEvents=function(){return this._events||(this._events={})},"function"==typeof define&&define.amd?define(function(){return t}):"undefined"!=typeof module&&module.exports?module.exports=t:this.EventEmitter=t}.call(this),function(t){"use strict";function e(){}function i(t){function i(e){e.prototype.option||(e.prototype.option=function(e){t.isPlainObject(e)&&(this.options=t.extend(!0,this.options,e))})}function r(e,i){t.fn[e]=function(r){if("string"==typeof r){for(var o=n.call(arguments,1),a=0,u=this.length;u>a;a++){var l=this[a],h=t.data(l,e);if(h)if(t.isFunction(h[r])&&"_"!==r.charAt(0)){var c=h[r].apply(h,o);if(void 0!==c)return c}else s("no such method '"+r+"' for "+e+" instance");else s("cannot call methods on "+e+" prior to initialization; "+"attempted to call '"+r+"'")}return this}return this.each(function(){var n=t.data(this,e);n?(n.option(r),n._init()):(n=new i(this,r),t.data(this,e,n))})}}if(t){var s="undefined"==typeof console?e:function(t){console.error(t)};t.bridget=function(t,e){i(e),r(t,e)}}}var n=Array.prototype.slice;"function"==typeof define&&define.amd?define(["jquery"],i):i(t.jQuery)}(window),function(t,e){"use strict";function i(t,e){return t[a](e)}function n(t){if(!t.parentNode){var e=document.createDocumentFragment();e.appendChild(t)}}function r(t,e){n(t);for(var i=t.parentNode.querySelectorAll(e),r=0,s=i.length;s>r;r++)if(i[r]===t)return!0;return!1}function s(t,e){return n(t),i(t,e)}var o,a=function(){if(e.matchesSelector)return"matchesSelector";for(var t=["webkit","moz","ms","o"],i=0,n=t.length;n>i;i++){var r=t[i],s=r+"MatchesSelector";if(e[s])return s}}();if(a){var u=document.createElement("div"),l=i(u,"div");o=l?i:s}else o=r;"function"==typeof define&&define.amd?define(function(){return o}):window.matchesSelector=o}(this,Element.prototype),function(t){"use strict";function e(t,e){for(var i in e)t[i]=e[i];return t}function i(t,i,n){function s(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}var o=n("transition"),a=n("transform"),u=o&&a,l=!!n("perspective"),h={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[o],c=["transform","transition","transitionDuration","transitionProperty"],p=function(){for(var t={},e=0,i=c.length;i>e;e++){var r=c[e],s=n(r);s&&s!==r&&(t[r]=s)}return t}();e(s.prototype,t.prototype),s.prototype._create=function(){this.css({position:"absolute"})},s.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},s.prototype.getSize=function(){this.size=i(this.element)},s.prototype.css=function(t){var e=this.element.style;for(var i in t){var n=p[i]||i;e[n]=t[i]}},s.prototype.getPosition=function(){var t=r(this.element),e=this.layout.options,i=e.isOriginLeft,n=e.isOriginTop,s=parseInt(t[i?"left":"right"],10),o=parseInt(t[n?"top":"bottom"],10);s=isNaN(s)?0:s,o=isNaN(o)?0:o;var a=this.layout.size;s-=i?a.paddingLeft:a.paddingRight,o-=n?a.paddingTop:a.paddingBottom,this.position.x=s,this.position.y=o},s.prototype.layoutPosition=function(){var t=this.layout.size,e=this.layout.options,i={};e.isOriginLeft?(i.left=this.position.x+t.paddingLeft+"px",i.right=""):(i.right=this.position.x+t.paddingRight+"px",i.left=""),e.isOriginTop?(i.top=this.position.y+t.paddingTop+"px",i.bottom=""):(i.bottom=this.position.y+t.paddingBottom+"px",i.top=""),this.css(i),this.emitEvent("layout",[this])};var f=l?function(t,e){return"translate3d("+t+"px, "+e+"px, 0)"}:function(t,e){return"translate("+t+"px, "+e+"px)"};s.prototype._transitionTo=function(t,e){this.getPosition();var i=this.position.x,n=this.position.y,r=parseInt(t,10),s=parseInt(e,10),o=r===this.position.x&&s===this.position.y;if(this.setPosition(t,e),o&&!this.isTransitioning)return this.layoutPosition(),void 0;var a=t-i,u=e-n,l={},h=this.layout.options;a=h.isOriginLeft?a:-a,u=h.isOriginTop?u:-u,l.transform=f(a,u),this.transition({to:l,onTransitionEnd:this.layoutPosition,isCleaning:!0})},s.prototype.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},s.prototype.moveTo=u?s.prototype._transitionTo:s.prototype.goTo,s.prototype.setPosition=function(t,e){this.position.x=parseInt(t,10),this.position.y=parseInt(e,10)},s.prototype._nonTransition=function(t){this.css(t.to),t.isCleaning&&this._removeStyles(t.to),t.onTransitionEnd&&t.onTransitionEnd.call(this)},s.prototype._transition=function(t){var e=this.layout.options.transitionDuration;if(!parseFloat(e))return this._nonTransition(t),void 0;var i=t.to,n=[];for(var r in i)n.push(r);var s={};if(s.transitionProperty=n.join(","),s.transitionDuration=e,this.element.addEventListener(h,this,!1),(t.isCleaning||t.onTransitionEnd)&&this.on("transitionEnd",function(e){return t.isCleaning&&e._removeStyles(i),t.onTransitionEnd&&t.onTransitionEnd.call(e),!0}),t.from){this.css(t.from);var o=this.element.offsetHeight;o=null}this.css(s),this.css(i),this.isTransitioning=!0},s.prototype.transition=s.prototype[o?"_transition":"_nonTransition"],s.prototype.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},s.prototype.onotransitionend=function(t){this.ontransitionend(t)},s.prototype.ontransitionend=function(t){t.target===this.element&&(this.removeTransitionStyles(),this.element.removeEventListener(h,this,!1),this.isTransitioning=!1,this.emitEvent("transitionEnd",[this]))},s.prototype._removeStyles=function(t){var e={};for(var i in t)e[i]="";this.css(e)};var d={transitionProperty:"",transitionDuration:""};return s.prototype.removeTransitionStyles=function(){this.css(d)},s.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.emitEvent("remove",[this])},s.prototype.remove=o?function(){var t=this;this.on("transitionEnd",function(){return t.removeElem(),!0}),this.hide()}:s.prototype.removeElem,s.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options;this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0})},s.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options;this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:function(){this.css({display:"none"})}})},s.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},s}var n=document.defaultView,r=n&&n.getComputedStyle?function(t){return n.getComputedStyle(t,null)}:function(t){return t.currentStyle};"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property"],i):(t.Outlayer={},t.Outlayer.Item=i(t.EventEmitter,t.getSize,t.getStyleProperty))}(window),function(t){"use strict";function e(t,e){for(var i in e)t[i]=e[i];return t}function i(t){return"[object Array]"===h.call(t)}function n(t){var e=[];if(i(t))e=t;else if("number"==typeof t.length)for(var n=0,r=t.length;r>n;n++)e.push(t[n]);else e.push(t);return e}function r(t){return t.replace(/(.)([A-Z])/g,function(t,e,i){return e+"-"+i}).toLowerCase()}function s(i,s,h,f,d,g){function m(t,i){if("string"==typeof t&&(t=o.querySelector(t)),!t||!c(t))return a&&a.error("Bad "+this.settings.namespace+" element: "+t),void 0;this.element=t,this.options=e({},this.options),e(this.options,i);var n=++y;this.element.outlayerGUID=n,_[n]=this,this._create(),this.options.isInitLayout&&this.layout()}function v(t,i){t.prototype[i]=e({},m.prototype[i])}var y=0,_={};return m.prototype.settings={namespace:"outlayer",item:g},m.prototype.options={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},e(m.prototype,h.prototype),m.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),e(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},m.prototype.reloadItems=function(){this.items=this._getItems(this.element.children)},m.prototype._getItems=function(t){for(var e=this._filterFindItemElements(t),i=this.settings.item,n=[],r=0,s=e.length;s>r;r++){var o=e[r],a=new i(o,this,this.options.itemOptions);n.push(a)}return n},m.prototype._filterFindItemElements=function(t){t=n(t);var e=this.options.itemSelector;if(!e)return t;for(var i=[],r=0,s=t.length;s>r;r++){var o=t[r];d(o,e)&&i.push(o);for(var a=o.querySelectorAll(e),u=0,l=a.length;l>u;u++)i.push(a[u])}return i},m.prototype.getItemElements=function(){for(var t=[],e=0,i=this.items.length;i>e;e++)t.push(this.items[e].element);return t},m.prototype.layout=function(){this._resetLayout(),this._manageStamps();var t=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,t),this._isLayoutInited=!0},m.prototype._init=m.prototype.layout,m.prototype._resetLayout=function(){this.getSize()},m.prototype.getSize=function(){this.size=f(this.element)},m.prototype._getMeasurement=function(t,e){var i,n=this.options[t];n?("string"==typeof n?i=this.element.querySelector(n):c(n)&&(i=n),this[t]=i?f(i)[e]:n):this[t]=0},m.prototype.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},m.prototype._getItemsForLayout=function(t){for(var e=[],i=0,n=t.length;n>i;i++){var r=t[i];r.isIgnored||e.push(r)}return e},m.prototype._layoutItems=function(t,e){if(!t||!t.length)return this.emitEvent("layoutComplete",[this,t]),void 0;this._itemsOn(t,"layout",function(){this.emitEvent("layoutComplete",[this,t])});for(var i=[],n=0,r=t.length;r>n;n++){var s=t[n],o=this._getItemLayoutPosition(s);o.item=s,o.isInstant=e,i.push(o)}this._processLayoutQueue(i)},m.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},m.prototype._processLayoutQueue=function(t){for(var e=0,i=t.length;i>e;e++){var n=t[e];this._positionItem(n.item,n.x,n.y,n.isInstant)}},m.prototype._positionItem=function(t,e,i,n){n?t.goTo(e,i):t.moveTo(e,i)},m.prototype._postLayout=function(){var t=this._getContainerSize();t&&(this._setContainerMeasure(t.width,!0),this._setContainerMeasure(t.height,!1))},m.prototype._getContainerSize=l,m.prototype._setContainerMeasure=function(t,e){if(void 0!==t){var i=this.size;i.isBorderBox&&(t+=e?i.paddingLeft+i.paddingRight+i.borderLeftWidth+i.borderRightWidth:i.paddingBottom+i.paddingTop+i.borderTopWidth+i.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px"}},m.prototype._itemsOn=function(t,e,i){function n(){return r++,r===s&&i.call(o),!0}for(var r=0,s=t.length,o=this,a=0,u=t.length;u>a;a++){var l=t[a];l.on(e,n)}},m.prototype.ignore=function(t){var e=this.getItem(t);e&&(e.isIgnored=!0)},m.prototype.unignore=function(t){var e=this.getItem(t);e&&delete e.isIgnored},m.prototype.stamp=function(t){if(t=this._find(t)){this.stamps=this.stamps.concat(t);for(var e=0,i=t.length;i>e;e++){var n=t[e];this.ignore(n)}}},m.prototype.unstamp=function(t){if(t=this._find(t))for(var e=0,i=t.length;i>e;e++){var n=t[e],r=p(this.stamps,n);-1!==r&&this.stamps.splice(r,1),this.unignore(n)}},m.prototype._find=function(t){return t?("string"==typeof t&&(t=this.element.querySelectorAll(t)),t=n(t)):void 0},m.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var t=0,e=this.stamps.length;e>t;t++){var i=this.stamps[t];this._manageStamp(i)}}},m.prototype._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},m.prototype._manageStamp=l,m.prototype._getElementOffset=function(t){var e=t.getBoundingClientRect(),i=this._boundingRect,n=f(t),r={left:e.left-i.left-n.marginLeft,top:e.top-i.top-n.marginTop,right:i.right-e.right-n.marginRight,bottom:i.bottom-e.bottom-n.marginBottom};return r},m.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},m.prototype.bindResize=function(){this.isResizeBound||(i.bind(t,"resize",this),this.isResizeBound=!0)},m.prototype.unbindResize=function(){i.unbind(t,"resize",this),this.isResizeBound=!1},m.prototype.onresize=function(){function t(){e.resize()}this.resizeTimeout&&clearTimeout(this.resizeTimeout);var e=this;this.resizeTimeout=setTimeout(t,100)},m.prototype.resize=function(){var t=f(this.element),e=this.size&&t;e&&t.innerWidth===this.size.innerWidth||(this.layout(),delete this.resizeTimeout)},m.prototype.addItems=function(t){var e=this._getItems(t);return e.length?(this.items=this.items.concat(e),e):void 0},m.prototype.appended=function(t){var e=this.addItems(t);e.length&&(this.layoutItems(e,!0),this.reveal(e))},m.prototype.prepended=function(t){var e=this._getItems(t);if(e.length){var i=this.items.slice(0);this.items=e.concat(i),this._resetLayout(),this.layoutItems(e,!0),this.reveal(e),this.layoutItems(i)}},m.prototype.reveal=function(t){if(t&&t.length)for(var e=0,i=t.length;i>e;e++){var n=t[e];n.reveal()}},m.prototype.hide=function(t){if(t&&t.length)for(var e=0,i=t.length;i>e;e++){var n=t[e];n.hide()}},m.prototype.getItem=function(t){for(var e=0,i=this.items.length;i>e;e++){var n=this.items[e];if(n.element===t)return n}},m.prototype.getItems=function(t){if(t&&t.length){for(var e=[],i=0,n=t.length;n>i;i++){var r=t[i],s=this.getItem(r);s&&e.push(s)}return e}},m.prototype.remove=function(t){t=n(t);var e=this.getItems(t);this._itemsOn(e,"remove",function(){this.emitEvent("removeComplete",[this,e])});for(var i=0,r=e.length;r>i;i++){var s=e[i];s.remove();var o=p(this.items,s);this.items.splice(o,1)}},m.prototype.destroy=function(){var t=this.element.style;t.height="",t.position="",t.width="";for(var e=0,i=this.items.length;i>e;e++){var n=this.items[e];n.destroy()}this.unbindResize(),delete this.element.outlayerGUID},m.data=function(t){var e=t&&t.outlayerGUID;return e&&_[e]},m.create=function(t,i){function n(){m.apply(this,arguments)}return e(n.prototype,m.prototype),v(n,"options"),v(n,"settings"),e(n.prototype.options,i),n.prototype.settings.namespace=t,n.data=m.data,n.Item=function(){g.apply(this,arguments)},n.Item.prototype=new g,n.prototype.settings.item=n.Item,s(function(){for(var e=r(t),i=o.querySelectorAll(".js-"+e),s="data-"+e+"-options",l=0,h=i.length;h>l;l++){var c,p=i[l],f=p.getAttribute(s);
try{c=f&&JSON.parse(f)}catch(d){a&&a.error("Error parsing "+s+" on "+p.nodeName.toLowerCase()+(p.id?"#"+p.id:"")+": "+d);continue}var g=new n(p,c);u&&u.data(p,t,g)}}),u&&u.bridget&&u.bridget(t,n),n},m.Item=g,m}var o=t.document,a=t.console,u=t.jQuery,l=function(){},h=Object.prototype.toString,c="object"==typeof HTMLElement?function(t){return t instanceof HTMLElement}:function(t){return t&&"object"==typeof t&&1===t.nodeType&&"string"==typeof t.nodeName},p=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var i=0,n=t.length;n>i;i++)if(t[i]===e)return i;return-1};"function"==typeof define&&define.amd?define(["eventie/eventie","doc-ready/doc-ready","eventEmitter/EventEmitter","get-size/get-size","matches-selector/matches-selector","./item"],s):t.Outlayer=s(t.eventie,t.docReady,t.EventEmitter,t.getSize,t.matchesSelector,t.Outlayer.Item)}(window),function(t){"use strict";function e(t,e){var n=t.create("masonry");return n.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var t=this.cols;for(this.colYs=[];t--;)this.colYs.push(0);this.maxY=0},n.prototype.measureColumns=function(){var t=this._getSizingContainer(),i=this.items[0],n=i&&i.element;this.columnWidth||(this.columnWidth=n?e(n).outerWidth:this.size.innerWidth),this.columnWidth+=this.gutter,this._containerWidth=e(t).innerWidth,this.cols=Math.floor((this._containerWidth+this.gutter)/this.columnWidth),this.cols=Math.max(this.cols,1)},n.prototype._getSizingContainer=function(){return this.options.isFitWidth?this.element.parentNode:this.element},n.prototype._getItemLayoutPosition=function(t){t.getSize();var e=Math.ceil(t.size.outerWidth/this.columnWidth);e=Math.min(e,this.cols);for(var n=this._getColGroup(e),r=Math.min.apply(Math,n),s=i(n,r),o={x:this.columnWidth*s,y:r},a=r+t.size.outerHeight,u=this.cols+1-n.length,l=0;u>l;l++)this.colYs[s+l]=a;return o},n.prototype._getColGroup=function(t){if(1===t)return this.colYs;for(var e=[],i=this.cols+1-t,n=0;i>n;n++){var r=this.colYs.slice(n,n+t);e[n]=Math.max.apply(Math,r)}return e},n.prototype._manageStamp=function(t){var i=e(t),n=this._getElementOffset(t),r=this.options.isOriginLeft?n.left:n.right,s=r+i.outerWidth,o=Math.floor(r/this.columnWidth);o=Math.max(0,o);var a=Math.floor(s/this.columnWidth);a=Math.min(this.cols-1,a);for(var u=(this.options.isOriginTop?n.top:n.bottom)+i.outerHeight,l=o;a>=l;l++)this.colYs[l]=Math.max(u,this.colYs[l])},n.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this.options.isFitWidth&&(t.width=this._getContainerFitWidth()),t},n.prototype._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},n.prototype.resize=function(){var t=this._getSizingContainer(),i=e(t),n=this.size&&i;n&&i.innerWidth===this._containerWidth||(this.layout(),delete this.resizeTimeout)},n}var i=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var i=0,n=t.length;n>i;i++){var r=t[i];if(r===e)return i}return-1};"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size"],e):t.Masonry=e(t.Outlayer,t.getSize)}(window),window.Modernizr=function(t,e,i){function n(t){f.cssText=t}function r(t,e){return typeof t===e}var s,o,a,u="2.6.2",l={},h=e.documentElement,c="modernizr",p=e.createElement(c),f=p.style,d=({}.toString,{}),g=[],m=g.slice,v={}.hasOwnProperty;a=r(v,"undefined")||r(v.call,"undefined")?function(t,e){return e in t&&r(t.constructor.prototype[e],"undefined")}:function(t,e){return v.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if(typeof e!="function")throw new TypeError;var i=m.call(arguments,1),n=function(){if(this instanceof n){var r=function(){};r.prototype=e.prototype;var s=new r,o=e.apply(s,i.concat(m.call(arguments)));return Object(o)===o?o:s}return e.apply(t,i.concat(m.call(arguments)))};return n}),d.history=function(){return!!t.history&&!!history.pushState};for(var y in d)a(d,y)&&(o=y.toLowerCase(),l[o]=d[y](),g.push((l[o]?"":"no-")+o));return l.addTest=function(t,e){if(typeof t=="object")for(var n in t)a(t,n)&&l.addTest(n,t[n]);else{if(t=t.toLowerCase(),l[t]!==i)return l;e=typeof e=="function"?e():e,typeof enableClasses!="undefined"&&enableClasses&&(h.className+=" "+(e?"":"no-")+t),l[t]=e}return l},n(""),p=s=null,function(t,e){function i(t,e){var i=t.createElement("p"),n=t.getElementsByTagName("head")[0]||t.documentElement;return i.innerHTML="x<style>"+e+"</style>",n.insertBefore(i.lastChild,n.firstChild)}function n(){var t=v.elements;return typeof t=="string"?t.split(" "):t}function r(t){var e=m[t[d]];return e||(e={},g++,t[d]=g,m[g]=e),e}function s(t,i,n){if(i||(i=e),h)return i.createElement(t);n||(n=r(i));var s;return s=n.cache[t]?n.cache[t].cloneNode():f.test(t)?(n.cache[t]=n.createElem(t)).cloneNode():n.createElem(t),s.canHaveChildren&&!p.test(t)?n.frag.appendChild(s):s}function o(t,i){if(t||(t=e),h)return t.createDocumentFragment();i=i||r(t);for(var s=i.frag.cloneNode(),o=0,a=n(),u=a.length;u>o;o++)s.createElement(a[o]);return s}function a(t,e){e.cache||(e.cache={},e.createElem=t.createElement,e.createFrag=t.createDocumentFragment,e.frag=e.createFrag()),t.createElement=function(i){return v.shivMethods?s(i,t,e):e.createElem(i)},t.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+n().join().replace(/\w+/g,function(t){return e.createElem(t),e.frag.createElement(t),'c("'+t+'")'})+");return n}")(v,e.frag)}function u(t){t||(t=e);var n=r(t);return v.shivCSS&&!l&&!n.hasCSS&&(n.hasCSS=!!i(t,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")),h||a(t,n),t}var l,h,c=t.html5||{},p=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,f=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,d="_html5shiv",g=0,m={};(function(){try{var t=e.createElement("a");t.innerHTML="<xyz></xyz>",l="hidden"in t,h=t.childNodes.length==1||function(){e.createElement("a");var t=e.createDocumentFragment();return t.cloneNode===void 0||t.createDocumentFragment===void 0||t.createElement===void 0}()}catch(i){l=!0,h=!0}})();var v={elements:c.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:c.shivCSS!==!1,supportsUnknownElements:h,shivMethods:c.shivMethods!==!1,type:"default",shivDocument:u,createElement:s,createDocumentFragment:o};t.html5=v,u(e)}(this,e),l._version=u,l}(this,this.document),function(){var t=this,e=t._,i={},n=Array.prototype,r=Object.prototype,s=Function.prototype,o=n.push,a=n.slice,u=n.concat,l=r.toString,h=r.hasOwnProperty,c=n.forEach,p=n.map,f=n.reduce,d=n.reduceRight,g=n.filter,m=n.every,v=n.some,y=n.indexOf,_=n.lastIndexOf,b=Array.isArray,w=Object.keys,x=s.bind,C=function(t){return t instanceof C?t:this instanceof C?(this._wrapped=t,void 0):new C(t)};typeof exports!="undefined"?(typeof module!="undefined"&&module.exports&&(exports=module.exports=C),exports._=C):t._=C,C.VERSION="1.4.4";var k=C.each=C.forEach=function(t,e,n){if(t!=null)if(c&&t.forEach===c)t.forEach(e,n);else if(t.length===+t.length){for(var r=0,s=t.length;s>r;r++)if(e.call(n,t[r],r,t)===i)return}else for(var o in t)if(C.has(t,o)&&e.call(n,t[o],o,t)===i)return};C.map=C.collect=function(t,e,i){var n=[];return t==null?n:p&&t.map===p?t.map(e,i):(k(t,function(t,r,s){n[n.length]=e.call(i,t,r,s)}),n)};var M="Reduce of empty array with no initial value";C.reduce=C.foldl=C.inject=function(t,e,i,n){var r=arguments.length>2;if(t==null&&(t=[]),f&&t.reduce===f)return n&&(e=C.bind(e,n)),r?t.reduce(e,i):t.reduce(e);if(k(t,function(t,s,o){r?i=e.call(n,i,t,s,o):(i=t,r=!0)}),!r)throw new TypeError(M);return i},C.reduceRight=C.foldr=function(t,e,i,n){var r=arguments.length>2;if(t==null&&(t=[]),d&&t.reduceRight===d)return n&&(e=C.bind(e,n)),r?t.reduceRight(e,i):t.reduceRight(e);var s=t.length;if(s!==+s){var o=C.keys(t);s=o.length}if(k(t,function(a,u,l){u=o?o[--s]:--s,r?i=e.call(n,i,t[u],u,l):(i=t[u],r=!0)}),!r)throw new TypeError(M);return i},C.find=C.detect=function(t,e,i){var n;return E(t,function(t,r,s){return e.call(i,t,r,s)?(n=t,!0):void 0}),n},C.filter=C.select=function(t,e,i){var n=[];return t==null?n:g&&t.filter===g?t.filter(e,i):(k(t,function(t,r,s){e.call(i,t,r,s)&&(n[n.length]=t)}),n)},C.reject=function(t,e,i){return C.filter(t,function(t,n,r){return!e.call(i,t,n,r)},i)},C.every=C.all=function(t,e,n){e||(e=C.identity);var r=!0;return t==null?r:m&&t.every===m?t.every(e,n):(k(t,function(t,s,o){return(r=r&&e.call(n,t,s,o))?void 0:i}),!!r)};var E=C.some=C.any=function(t,e,n){e||(e=C.identity);var r=!1;return t==null?r:v&&t.some===v?t.some(e,n):(k(t,function(t,s,o){return r||(r=e.call(n,t,s,o))?i:void 0}),!!r)};C.contains=C.include=function(t,e){return t==null?!1:y&&t.indexOf===y?t.indexOf(e)!=-1:E(t,function(t){return t===e})},C.invoke=function(t,e){var i=a.call(arguments,2),n=C.isFunction(e);return C.map(t,function(t){return(n?e:t[e]).apply(t,i)})},C.pluck=function(t,e){return C.map(t,function(t){return t[e]})},C.where=function(t,e,i){return C.isEmpty(e)?i?null:[]:C[i?"find":"filter"](t,function(t){for(var i in e)if(e[i]!==t[i])return!1;return!0})},C.findWhere=function(t,e){return C.where(t,e,!0)},C.max=function(t,e,i){if(!e&&C.isArray(t)&&t[0]===+t[0]&&65535>t.length)return Math.max.apply(Math,t);if(!e&&C.isEmpty(t))return-1/0;var n={computed:-1/0,value:-1/0};return k(t,function(t,r,s){var o=e?e.call(i,t,r,s):t;o>=n.computed&&(n={value:t,computed:o})}),n.value},C.min=function(t,e,i){if(!e&&C.isArray(t)&&t[0]===+t[0]&&65535>t.length)return Math.min.apply(Math,t);if(!e&&C.isEmpty(t))return 1/0;var n={computed:1/0,value:1/0};return k(t,function(t,r,s){var o=e?e.call(i,t,r,s):t;n.computed>o&&(n={value:t,computed:o})}),n.value},C.shuffle=function(t){var e,i=0,n=[];return k(t,function(t){e=C.random(i++),n[i-1]=n[e],n[e]=t}),n};var S=function(t){return C.isFunction(t)?t:function(e){return e[t]}};C.sortBy=function(t,e,i){var n=S(e);return C.pluck(C.map(t,function(t,e,r){return{value:t,index:e,criteria:n.call(i,t,e,r)}}).sort(function(t,e){var i=t.criteria,n=e.criteria;if(i!==n){if(i>n||i===void 0)return 1;if(n>i||n===void 0)return-1}return e.index>t.index?-1:1}),"value")};var T=function(t,e,i,n){var r={},s=S(e||C.identity);return k(t,function(e,o){var a=s.call(i,e,o,t);n(r,a,e)}),r};C.groupBy=function(t,e,i){return T(t,e,i,function(t,e,i){(C.has(t,e)?t[e]:t[e]=[]).push(i)})},C.countBy=function(t,e,i){return T(t,e,i,function(t,e){C.has(t,e)||(t[e]=0),t[e]++})},C.sortedIndex=function(t,e,i,n){i=i==null?C.identity:S(i);var r=i.call(n,e),s=0,o=t.length;while(o>s){var a=s+o>>>1;r>i.call(n,t[a])?s=a+1:o=a}return s},C.toArray=function(t){return t?C.isArray(t)?a.call(t):t.length===+t.length?C.map(t,C.identity):C.values(t):[]},C.size=function(t){return t==null?0:t.length===+t.length?t.length:C.keys(t).length},C.first=C.head=C.take=function(t,e,i){return t==null?void 0:e==null||i?t[0]:a.call(t,0,e)},C.initial=function(t,e,i){return a.call(t,0,t.length-(e==null||i?1:e))},C.last=function(t,e,i){return t==null?void 0:e==null||i?t[t.length-1]:a.call(t,Math.max(t.length-e,0))},C.rest=C.tail=C.drop=function(t,e,i){return a.call(t,e==null||i?1:e)},C.compact=function(t){return C.filter(t,C.identity)};var $=function(t,e,i){return k(t,function(t){C.isArray(t)?e?o.apply(i,t):$(t,e,i):i.push(t)}),i};C.flatten=function(t,e){return $(t,e,[])},C.without=function(t){return C.difference(t,a.call(arguments,1))},C.uniq=C.unique=function(t,e,i,n){C.isFunction(e)&&(n=i,i=e,e=!1);var r=i?C.map(t,i,n):t,s=[],o=[];return k(r,function(i,n){(e?n&&o[o.length-1]===i:C.contains(o,i))||(o.push(i),s.push(t[n]))}),s},C.union=function(){return C.uniq(u.apply(n,arguments))},C.intersection=function(t){var e=a.call(arguments,1);return C.filter(C.uniq(t),function(t){return C.every(e,function(e){return C.indexOf(e,t)>=0})})},C.difference=function(t){var e=u.apply(n,a.call(arguments,1));return C.filter(t,function(t){return!C.contains(e,t)})},C.zip=function(){for(var t=a.call(arguments),e=C.max(C.pluck(t,"length")),i=Array(e),n=0;e>n;n++)i[n]=C.pluck(t,""+n);return i},C.object=function(t,e){if(t==null)return{};for(var i={},n=0,r=t.length;r>n;n++)e?i[t[n]]=e[n]:i[t[n][0]]=t[n][1];return i},C.indexOf=function(t,e,i){if(t==null)return-1;var n=0,r=t.length;if(i){if(typeof i!="number")return n=C.sortedIndex(t,e),t[n]===e?n:-1;n=0>i?Math.max(0,r+i):i}if(y&&t.indexOf===y)return t.indexOf(e,i);for(;r>n;n++)if(t[n]===e)return n;return-1},C.lastIndexOf=function(t,e,i){if(t==null)return-1;var n=i!=null;if(_&&t.lastIndexOf===_)return n?t.lastIndexOf(e,i):t.lastIndexOf(e);var r=n?i:t.length;while(r--)if(t[r]===e)return r;return-1},C.range=function(t,e,i){arguments.length>1||(e=t||0,t=0),i=arguments[2]||1;var n=Math.max(Math.ceil((e-t)/i),0),r=0,s=Array(n);while(n>r)s[r++]=t,t+=i;return s},C.bind=function(t,e){if(t.bind===x&&x)return x.apply(t,a.call(arguments,1));var i=a.call(arguments,2);return function(){return t.apply(e,i.concat(a.call(arguments)))}},C.partial=function(t){var e=a.call(arguments,1);return function(){return t.apply(this,e.concat(a.call(arguments)))}},C.bindAll=function(t){var e=a.call(arguments,1);return e.length===0&&(e=C.functions(t)),k(e,function(e){t[e]=C.bind(t[e],t)}),t},C.memoize=function(t,e){var i={};return e||(e=C.identity),function(){var n=e.apply(this,arguments);return C.has(i,n)?i[n]:i[n]=t.apply(this,arguments)}},C.delay=function(t,e){var i=a.call(arguments,2);return setTimeout(function(){return t.apply(null,i)},e)},C.defer=function(t){return C.delay.apply(C,[t,1].concat(a.call(arguments,1)))},C.throttle=function(t,e){var i,n,r,s,o=0,a=function(){o=new Date,r=null,s=t.apply(i,n)};return function(){var u=new Date,l=e-(u-o);return i=this,n=arguments,l>0?r||(r=setTimeout(a,l)):(clearTimeout(r),r=null,o=u,s=t.apply(i,n)),s}},C.debounce=function(t,e,i){var n,r;return function(){var s=this,o=arguments,a=function(){n=null,i||(r=t.apply(s,o))},u=i&&!n;return clearTimeout(n),n=setTimeout(a,e),u&&(r=t.apply(s,o)),r}},C.once=function(t){var e,i=!1;return function(){return i?e:(i=!0,e=t.apply(this,arguments),t=null,e)}},C.wrap=function(t,e){return function(){var i=[t];return o.apply(i,arguments),e.apply(this,i)}},C.compose=function(){var t=arguments;return function(){for(var e=arguments,i=t.length-1;i>=0;i--)e=[t[i].apply(this,e)];return e[0]}},C.after=function(t,e){return t>0?function(){return 1>--t?e.apply(this,arguments):void 0}:e()},C.keys=w||function(t){if(t!==Object(t))throw new TypeError("Invalid object");var e=[];for(var i in t)C.has(t,i)&&(e[e.length]=i);return e},C.values=function(t){var e=[];for(var i in t)C.has(t,i)&&e.push(t[i]);return e},C.pairs=function(t){var e=[];for(var i in t)C.has(t,i)&&e.push([i,t[i]]);return e},C.invert=function(t){var e={};for(var i in t)C.has(t,i)&&(e[t[i]]=i);return e},C.functions=C.methods=function(t){var e=[];for(var i in t)C.isFunction(t[i])&&e.push(i);return e.sort()},C.extend=function(t){return k(a.call(arguments,1),function(e){if(e)for(var i in e)t[i]=e[i]}),t},C.pick=function(t){var e={},i=u.apply(n,a.call(arguments,1));return k(i,function(i){i in t&&(e[i]=t[i])}),e},C.omit=function(t){var e={},i=u.apply(n,a.call(arguments,1));for(var r in t)C.contains(i,r)||(e[r]=t[r]);return e},C.defaults=function(t){return k(a.call(arguments,1),function(e){if(e)for(var i in e)t[i]==null&&(t[i]=e[i])}),t},C.clone=function(t){return C.isObject(t)?C.isArray(t)?t.slice():C.extend({},t):t},C.tap=function(t,e){return e(t),t};var O=function(t,e,i,n){if(t===e)return t!==0||1/t==1/e;if(t==null||e==null)return t===e;t instanceof C&&(t=t._wrapped),e instanceof C&&(e=e._wrapped);var r=l.call(t);if(r!=l.call(e))return!1;switch(r){case"[object String]":return t==e+"";case"[object Number]":return t!=+t?e!=+e:t==0?1/t==1/e:t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object RegExp]":return t.source==e.source&&t.global==e.global&&t.multiline==e.multiline&&t.ignoreCase==e.ignoreCase}if(typeof t!="object"||typeof e!="object")return!1;var s=i.length;while(s--)if(i[s]==t)return n[s]==e;i.push(t),n.push(e);var o=0,a=!0;if(r=="[object Array]"){if(o=t.length,a=o==e.length)while(o--)if(!(a=O(t[o],e[o],i,n)))break}else{var u=t.constructor,h=e.constructor;if(u!==h&&!(C.isFunction(u)&&u instanceof u&&C.isFunction(h)&&h instanceof h))return!1;for(var c in t)if(C.has(t,c)&&(o++,!(a=C.has(e,c)&&O(t[c],e[c],i,n))))break;if(a){for(c in e)if(C.has(e,c)&&!o--)break;a=!o}}return i.pop(),n.pop(),a};C.isEqual=function(t,e){return O(t,e,[],[])},C.isEmpty=function(t){if(t==null)return!0;if(C.isArray(t)||C.isString(t))return t.length===0;for(var e in t)if(C.has(t,e))return!1;return!0},C.isElement=function(t){return t&&t.nodeType===1},C.isArray=b||function(t){return l.call(t)=="[object Array]"},C.isObject=function(t){return t===Object(t)},k(["Arguments","Function","String","Number","Date","RegExp"],function(t){C["is"+t]=function(e){return l.call(e)=="[object "+t+"]"}}),C.isArguments(arguments)||(C.isArguments=function(t){return t&&C.has(t,"callee")}),C.isFunction=function(t){return typeof t=="function"},C.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},C.isNaN=function(t){return C.isNumber(t)&&t!=+t},C.isBoolean=function(t){return t===!0||t===!1||l.call(t)=="[object Boolean]"},C.isNull=function(t){return t===null},C.isUndefined=function(t){return t===void 0},C.has=function(t,e){return h.call(t,e)},C.noConflict=function(){return t._=e,this},C.identity=function(t){return t},C.times=function(t,e,i){for(var n=Array(t),r=0;t>r;r++)n[r]=e.call(i,r);return n},C.random=function(t,e){return e==null&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))};var I={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};I.unescape=C.invert(I.escape);var L={escape:RegExp("["+C.keys(I.escape).join("")+"]","g"),unescape:RegExp("("+C.keys(I.unescape).join("|")+")","g")};C.each(["escape","unescape"],function(t){C[t]=function(e){return e==null?"":(""+e).replace(L[t],function(e){return I[t][e]})}}),C.result=function(t,e){if(t==null)return null;var i=t[e];return C.isFunction(i)?i.call(t):i},C.mixin=function(t){k(C.functions(t),function(e){var i=C[e]=t[e];C.prototype[e]=function(){var t=[this._wrapped];return o.apply(t,arguments),N.call(this,i.apply(C,t))}})};var P=0;C.uniqueId=function(t){var e=++P+"";return t?t+e:e},C.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var A=/(.)^/,D={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},j=/\\|'|\r|\n|\t|\u2028|\u2029/g;C.template=function(t,e,i){var n;i=C.defaults({},i,C.templateSettings);var r=RegExp([(i.escape||A).source,(i.interpolate||A).source,(i.evaluate||A).source].join("|")+"|$","g"),s=0,o="__p+='";t.replace(r,function(e,i,n,r,a){return o+=t.slice(s,a).replace(j,function(t){return"\\"+D[t]}),i&&(o+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'"),n&&(o+="'+\n((__t=("+n+"))==null?'':__t)+\n'"),r&&(o+="';\n"+r+"\n__p+='"),s=a+e.length,e}),o+="';\n",i.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{n=Function(i.variable||"obj","_",o)}catch(a){throw a.source=o,a}if(e)return n(e,C);var u=function(t){return n.call(this,t,C)};return u.source="function("+(i.variable||"obj")+"){\n"+o+"}",u},C.chain=function(t){return C(t).chain()};var N=function(t){return this._chain?C(t).chain():t};C.mixin(C),k(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=n[t];C.prototype[t]=function(){var i=this._wrapped;return e.apply(i,arguments),t!="shift"&&t!="splice"||i.length!==0||delete i[0],N.call(this,i)}}),k(["concat","join","slice"],function(t){var e=n[t];C.prototype[t]=function(){return N.call(this,e.apply(this._wrapped,arguments))}}),C.extend(C.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),function(){var t,e=this,i=e.Backbone,n=[],r=n.push,s=n.slice,o=n.splice;t=typeof exports!="undefined"?exports:e.Backbone={},t.VERSION="1.0.0";var a=e._;a||typeof require=="undefined"||(a=require("underscore")),t.$=e.jQuery||e.Zepto||e.ender||e.$,t.noConflict=function(){return e.Backbone=i,this},t.emulateHTTP=!1,t.emulateJSON=!1;var u=t.Events={on:function(t,e,i){if(!h(this,"on",t,[e,i])||!e)return this;this._events||(this._events={});var n=this._events[t]||(this._events[t]=[]);return n.push({callback:e,context:i,ctx:i||this}),this},once:function(t,e,i){if(!h(this,"once",t,[e,i])||!e)return this;var n=this,r=a.once(function(){n.off(t,r),e.apply(this,arguments)});return r._callback=e,this.on(t,r,i)},off:function(t,e,i){var n,r,s,o,u,l,c,p;if(!this._events||!h(this,"off",t,[e,i]))return this;if(!t&&!e&&!i)return this._events={},this;for(o=t?[t]:a.keys(this._events),u=0,l=o.length;l>u;u++)if(t=o[u],s=this._events[t]){if(this._events[t]=n=[],e||i)for(c=0,p=s.length;p>c;c++)r=s[c],(e&&e!==r.callback&&e!==r.callback._callback||i&&i!==r.context)&&n.push(r);n.length||delete this._events[t]}return this},trigger:function(t){if(!this._events)return this;var e=s.call(arguments,1);if(!h(this,"trigger",t,e))return this;var i=this._events[t],n=this._events.all;return i&&c(i,e),n&&c(n,arguments),this},stopListening:function(t,e,i){var n=this._listeners;if(!n)return this;var r=!e&&!i;typeof e=="object"&&(i=this),t&&((n={})[t._listenerId]=t);for(var s in n)n[s].off(e,i,this),r&&delete this._listeners[s];return this}},l=/\s+/,h=function(t,e,i,n){if(!i)return!0;if(typeof i=="object"){for(var r in i)t[e].apply(t,[r,i[r]].concat(n));return!1}if(l.test(i)){for(var s=i.split(l),o=0,a=s.length;a>o;o++)t[e].apply(t,[s[o]].concat(n));return!1}return!0},c=function(t,e){var i,n=-1,r=t.length,s=e[0],o=e[1],a=e[2];switch(e.length){case 0:while(r>++n)(i=t[n]).callback.call(i.ctx);return;case 1:while(r>++n)(i=t[n]).callback.call(i.ctx,s);return;case 2:while(r>++n)(i=t[n]).callback.call(i.ctx,s,o);return;case 3:while(r>++n)(i=t[n]).callback.call(i.ctx,s,o,a);return;default:while(r>++n)(i=t[n]).callback.apply(i.ctx,e)}},p={listenTo:"on",listenToOnce:"once"};a.each(p,function(t,e){u[e]=function(e,i,n){var r=this._listeners||(this._listeners={}),s=e._listenerId||(e._listenerId=a.uniqueId("l"));return r[s]=e,typeof i=="object"&&(n=this),e[t](i,n,this),this}}),u.bind=u.on,u.unbind=u.off,a.extend(t,u);var f=t.Model=function(t,e){var i,n=t||{};e||(e={}),this.cid=a.uniqueId("c"),this.attributes={},a.extend(this,a.pick(e,d)),e.parse&&(n=this.parse(n,e)||{}),(i=a.result(this,"defaults"))&&(n=a.defaults({},n,i)),this.set(n,e),this.changed={},this.initialize.apply(this,arguments)},d=["url","urlRoot","collection"];a.extend(f.prototype,u,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return a.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return a.escape(this.get(t))},has:function(t){return this.get(t)!=null},set:function(t,e,i){var n,r,s,o,u,l,h,c;if(t==null)return this;if(typeof t=="object"?(r=t,i=e):(r={})[t]=e,i||(i={}),!this._validate(r,i))return!1;s=i.unset,u=i.silent,o=[],l=this._changing,this._changing=!0,l||(this._previousAttributes=a.clone(this.attributes),this.changed={}),c=this.attributes,h=this._previousAttributes,this.idAttribute in r&&(this.id=r[this.idAttribute]);for(n in r)e=r[n],a.isEqual(c[n],e)||o.push(n),a.isEqual(h[n],e)?delete this.changed[n]:this.changed[n]=e,s?delete c[n]:c[n]=e;if(!u){o.length&&(this._pending=!0);for(var p=0,f=o.length;f>p;p++)this.trigger("change:"+o[p],this,c[o[p]],i)}if(l)return this;if(!u)while(this._pending)this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,a.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var i in this.attributes)e[i]=void 0;return this.set(e,a.extend({},t,{unset:!0}))},hasChanged:function(t){return t==null?!a.isEmpty(this.changed):a.has(this.changed,t)},changedAttributes:function(t){if(!t)return this.hasChanged()?a.clone(this.changed):!1;var e,i=!1,n=this._changing?this._previousAttributes:this.attributes;for(var r in t)a.isEqual(n[r],e=t[r])||((i||(i={}))[r]=e);return i},previous:function(t){return t!=null&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return a.clone(this._previousAttributes)},fetch:function(t){t=t?a.clone(t):{},t.parse===void 0&&(t.parse=!0);var e=this,i=t.success;return t.success=function(n){return e.set(e.parse(n,t),t)?(i&&i(e,n,t),e.trigger("sync",e,n,t),void 0):!1},N(this,t),this.sync("read",this,t)},save:function(t,e,i){var n,r,s,o=this.attributes;if(t==null||typeof t=="object"?(n=t,i=e):(n={})[t]=e,!(!n||i&&i.wait||this.set(n,i)))return!1;if(i=a.extend({validate:!0},i),!this._validate(n,i))return!1;n&&i.wait&&(this.attributes=a.extend({},o,n)),i.parse===void 0&&(i.parse=!0);var u=this,l=i.success;return i.success=function(t){u.attributes=o;var e=u.parse(t,i);return i.wait&&(e=a.extend(n||{},e)),a.isObject(e)&&!u.set(e,i)?!1:(l&&l(u,t,i),u.trigger("sync",u,t,i),void 0)},N(this,i),r=this.isNew()?"create":i.patch?"patch":"update",r==="patch"&&(i.attrs=n),s=this.sync(r,this,i),n&&i.wait&&(this.attributes=o),s},destroy:function(t){t=t?a.clone(t):{};var e=this,i=t.success,n=function(){e.trigger("destroy",e,e.collection,t)};if(t.success=function(r){(t.wait||e.isNew())&&n(),i&&i(e,r,t),e.isNew()||e.trigger("sync",e,r,t)},this.isNew())return t.success(),!1;N(this,t);var r=this.sync("delete",this,t);return t.wait||n(),r},url:function(){var t=a.result(this,"urlRoot")||a.result(this.collection,"url")||j();return this.isNew()?t:t+(t.charAt(t.length-1)==="/"?"":"/")+encodeURIComponent(this.id)},parse:function(t){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return this.id==null},isValid:function(t){return this._validate({},a.extend(t||{},{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=a.extend({},this.attributes,t);var i=this.validationError=this.validate(t,e)||null;return i?(this.trigger("invalid",this,i,a.extend(e||{},{validationError:i})),!1):!0}});var g=["keys","values","pairs","invert","pick","omit"];a.each(g,function(t){f.prototype[t]=function(){var e=s.call(arguments);return e.unshift(this.attributes),a[t].apply(a,e)}});var m=t.Collection=function(t,e){e||(e={}),e.url&&(this.url=e.url),e.model&&(this.model=e.model),e.comparator!==void 0&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,a.extend({silent:!0},e))},v={add:!0,remove:!0,merge:!0},y={add:!0,merge:!1,remove:!1};a.extend(m.prototype,u,{model:f,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return t.sync.apply(this,arguments)},add:function(t,e){return this.set(t,a.defaults(e||{},y))},remove:function(t,e){t=a.isArray(t)?t.slice():[t],e||(e={});var i,n,r,s;for(i=0,n=t.length;n>i;i++)s=this.get(t[i]),s&&(delete this._byId[s.id],delete this._byId[s.cid],r=this.indexOf(s),this.models.splice(r,1),this.length--,e.silent||(e.index=r,s.trigger("remove",s,this,e)),this._removeReference(s));return this},set:function(t,e){e=a.defaults(e||{},v),e.parse&&(t=this.parse(t,e)),a.isArray(t)||(t=t?[t]:[]);var i,n,s,u,l,h=e.at,c=this.comparator&&h==null&&e.sort!==!1,p=a.isString(this.comparator)?this.comparator:null,f=[],d=[],g={};for(i=0,n=t.length;n>i;i++)(s=this._prepareModel(t[i],e))&&((u=this.get(s))?(e.remove&&(g[u.cid]=!0),e.merge&&(u.set(s.attributes,e),c&&!l&&u.hasChanged(p)&&(l=!0))):e.add&&(f.push(s),s.on("all",this._onModelEvent,this),this._byId[s.cid]=s,s.id!=null&&(this._byId[s.id]=s)));if(e.remove){for(i=0,n=this.length;n>i;++i)g[(s=this.models[i]).cid]||d.push(s);d.length&&this.remove(d,e)}if(f.length&&(c&&(l=!0),this.length+=f.length,h!=null?o.apply(this.models,[h,0].concat(f)):r.apply(this.models,f)),l&&this.sort({silent:!0}),e.silent)return this;for(i=0,n=f.length;n>i;i++)(s=f[i]).trigger("add",s,this,e);return l&&this.trigger("sort",this,e),this},reset:function(t,e){e||(e={});for(var i=0,n=this.models.length;n>i;i++)this._removeReference(this.models[i]);return e.previousModels=this.models,this._reset(),this.add(t,a.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),this},push:function(t,e){return t=this._prepareModel(t,e),this.add(t,a.extend({at:this.length},e)),t},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t),e},unshift:function(t,e){return t=this._prepareModel(t,e),this.add(t,a.extend({at:0},e)),t},shift:function(t){var e=this.at(0);return this.remove(e,t),e},slice:function(t,e){return this.models.slice(t,e)},get:function(t){return t==null?void 0:this._byId[t.id!=null?t.id:t.cid||t]},at:function(t){return this.models[t]},where:function(t,e){return a.isEmpty(t)?e?void 0:[]:this[e?"find":"filter"](function(e){for(var i in t)if(t[i]!==e.get(i))return!1;return!0})},findWhere:function(t){return this.where(t,!0)},sort:function(t){if(!this.comparator)throw Error("Cannot sort a set without a comparator");return t||(t={}),a.isString(this.comparator)||this.comparator.length===1?this.models=this.sortBy(this.comparator,this):this.models.sort(a.bind(this.comparator,this)),t.silent||this.trigger("sort",this,t),this},sortedIndex:function(t,e,i){e||(e=this.comparator);var n=a.isFunction(e)?e:function(t){return t.get(e)};return a.sortedIndex(this.models,t,n,i)},pluck:function(t){return a.invoke(this.models,"get",t)},fetch:function(t){t=t?a.clone(t):{},t.parse===void 0&&(t.parse=!0);var e=t.success,i=this;return t.success=function(n){var r=t.reset?"reset":"set";i[r](n,t),e&&e(i,n,t),i.trigger("sync",i,n,t)},N(this,t),this.sync("read",this,t)},create:function(t,e){if(e=e?a.clone(e):{},!(t=this._prepareModel(t,e)))return!1;e.wait||this.add(t,e);var i=this,n=e.success;return e.success=function(r){e.wait&&i.add(t,e),n&&n(t,r,e)},t.save(null,e),t},parse:function(t){return t},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(t instanceof f)return t.collection||(t.collection=this),t;e||(e={}),e.collection=this;var i=new this.model(t,e);return i._validate(t,e)?i:(this.trigger("invalid",this,t,e),!1)},_removeReference:function(t){this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,i,n){(t!=="add"&&t!=="remove"||i===this)&&(t==="destroy"&&this.remove(e,n),e&&t==="change:"+e.idAttribute&&(delete this._byId[e.previous(e.idAttribute)],e.id!=null&&(this._byId[e.id]=e)),this.trigger.apply(this,arguments))}});var _=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","indexOf","shuffle","lastIndexOf","isEmpty","chain"];a.each(_,function(t){m.prototype[t]=function(){var e=s.call(arguments);return e.unshift(this.models),a[t].apply(a,e)}});var b=["groupBy","countBy","sortBy"];a.each(b,function(t){m.prototype[t]=function(e,i){var n=a.isFunction(e)?e:function(t){return t.get(e)};return a[t](this.models,n,i)}});var w=t.View=function(t){this.cid=a.uniqueId("view"),this._configure(t||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},x=/^(\S+)\s*(.*)$/,C=["model","collection","el","id","attributes","className","tagName","events"];a.extend(w.prototype,u,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this
},setElement:function(e,i){return this.$el&&this.undelegateEvents(),this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0],i!==!1&&this.delegateEvents(),this},delegateEvents:function(t){if(!t&&!(t=a.result(this,"events")))return this;this.undelegateEvents();for(var e in t){var i=t[e];if(a.isFunction(i)||(i=this[t[e]]),i){var n=e.match(x),r=n[1],s=n[2];i=a.bind(i,this),r+=".delegateEvents"+this.cid,s===""?this.$el.on(r,i):this.$el.on(r,s,i)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_configure:function(t){this.options&&(t=a.extend({},a.result(this,"options"),t)),a.extend(this,a.pick(t,C)),this.options=t},_ensureElement:function(){if(this.el)this.setElement(a.result(this,"el"),!1);else{var e=a.extend({},a.result(this,"attributes"));this.id&&(e.id=a.result(this,"id")),this.className&&(e["class"]=a.result(this,"className"));var i=t.$("<"+a.result(this,"tagName")+">").attr(e);this.setElement(i,!1)}}}),t.sync=function(e,i,n){var r=k[e];a.defaults(n||(n={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var s={type:r,dataType:"json"};if(n.url||(s.url=a.result(i,"url")||j()),n.data!=null||!i||e!=="create"&&e!=="update"&&e!=="patch"||(s.contentType="application/json",s.data=JSON.stringify(n.attrs||i.toJSON(n))),n.emulateJSON&&(s.contentType="application/x-www-form-urlencoded",s.data=s.data?{model:s.data}:{}),n.emulateHTTP&&(r==="PUT"||r==="DELETE"||r==="PATCH")){s.type="POST",n.emulateJSON&&(s.data._method=r);var o=n.beforeSend;n.beforeSend=function(t){return t.setRequestHeader("X-HTTP-Method-Override",r),o?o.apply(this,arguments):void 0}}s.type==="GET"||n.emulateJSON||(s.processData=!1),s.type!=="PATCH"||!window.ActiveXObject||window.external&&window.external.msActiveXFilteringEnabled||(s.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var u=n.xhr=t.ajax(a.extend(s,n));return i.trigger("request",i,u,n),u};var k={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var M=t.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},E=/\((.*?)\)/g,S=/(\(\?)?:\w+/g,T=/\*\w+/g,$=/[\-{}\[\]+?.,\\\^$|#\s]/g;a.extend(M.prototype,u,{initialize:function(){},route:function(e,i,n){a.isRegExp(e)||(e=this._routeToRegExp(e)),a.isFunction(i)&&(n=i,i=""),n||(n=this[i]);var r=this;return t.history.route(e,function(s){var o=r._extractParameters(e,s);n&&n.apply(r,o),r.trigger.apply(r,["route:"+i].concat(o)),r.trigger("route",i,o),t.history.trigger("route",r,i,o)}),this},navigate:function(e,i){return t.history.navigate(e,i),this},_bindRoutes:function(){if(this.routes){this.routes=a.result(this,"routes");var t,e=a.keys(this.routes);while((t=e.pop())!=null)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace($,"\\$&").replace(E,"(?:$1)?").replace(S,function(t,e){return e?t:"([^/]+)"}).replace(T,"(.*?)"),RegExp("^"+t+"$")},_extractParameters:function(t,e){var i=t.exec(e).slice(1);return a.map(i,function(t){return t?decodeURIComponent(t):null})}});var O=t.History=function(){this.handlers=[],a.bindAll(this,"checkUrl"),typeof window!="undefined"&&(this.location=window.location,this.history=window.history)},I=/^[#\/]|\s+$/g,L=/^\/+|\/+$/g,P=/msie [\w.]+/,A=/\/$/;O.started=!1,a.extend(O.prototype,u,{interval:50,getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getFragment:function(t,e){if(t==null)if(this._hasPushState||!this._wantsHashChange||e){t=this.location.pathname;var i=this.root.replace(A,"");t.indexOf(i)||(t=t.substr(i.length))}else t=this.getHash();return t.replace(I,"")},start:function(e){if(O.started)throw Error("Backbone.history has already been started");O.started=!0,this.options=a.extend({},{root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var i=this.getFragment(),n=document.documentMode,r=P.exec(navigator.userAgent.toLowerCase())&&(!n||7>=n);this.root=("/"+this.root+"/").replace(L,"/"),r&&this._wantsHashChange&&(this.iframe=t.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(i)),this._hasPushState?t.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!r?t.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=i;var s=this.location,o=s.pathname.replace(/[^\/]$/,"$&/")===this.root;return this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!o?(this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0):(this._wantsPushState&&this._hasPushState&&o&&s.hash&&(this.fragment=this.getHash().replace(I,""),this.history.replaceState({},document.title,this.root+this.fragment+s.search)),this.options.silent?void 0:this.loadUrl())},stop:function(){t.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),O.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(){var t=this.getFragment();return t===this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe))),t===this.fragment?!1:(this.iframe&&this.navigate(t),this.loadUrl()||this.loadUrl(this.getHash()),void 0)},loadUrl:function(t){var e=this.fragment=this.getFragment(t),i=a.any(this.handlers,function(t){return t.route.test(e)?(t.callback(e),!0):void 0});return i},navigate:function(t,e){if(!O.started)return!1;if(e&&e!==!0||(e={trigger:e}),t=this.getFragment(t||""),this.fragment!==t){this.fragment=t;var i=this.root+t;if(this._hasPushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,i);else{if(!this._wantsHashChange)return this.location.assign(i);this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getFragment(this.getHash(this.iframe))&&(e.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,t,e.replace))}e.trigger&&this.loadUrl(t)}},_updateHash:function(t,e,i){if(i){var n=t.href.replace(/(javascript:|#).*$/,"");t.replace(n+"#"+e)}else t.hash="#"+e}}),t.history=new O;var D=function(t,e){var i,n=this;i=t&&a.has(t,"constructor")?t.constructor:function(){return n.apply(this,arguments)},a.extend(i,n,e);var r=function(){this.constructor=i};return r.prototype=n.prototype,i.prototype=new r,t&&a.extend(i.prototype,t),i.__super__=n.prototype,i};f.extend=m.extend=M.extend=w.extend=O.extend=D;var j=function(){throw Error('A "url" property or function must be specified')},N=function(t,e){var i=e.error;e.error=function(n){i&&i(t,n,e),t.trigger("error",t,n,e)}}}.call(this),Backbone.GoogleMaps=function(t,e,i){var n={};return n.Location=t.Model.extend({constructor:function(){e.bindAll(this,"select","deselect","toggleSelect","getLatlng"),this.defaults=e.extend({},{lat:0,lng:0,selected:!1,title:""},this.defaults),t.Model.prototype.constructor.apply(this,arguments)},select:function(){this.get("selected")||(this.set("selected",!0),this.trigger("selected",this),t.Events.trigger("location:selected",this))},deselect:function(){this.get("selected")&&(this.set("selected",!1),this.trigger("deselected",this),t.Events.trigger("location:deselected",this))},toggleSelect:function(){this.get("selected")?this.deselect():this.select()},getLatlng:function(){return new google.maps.LatLng(this.get("lat"),this.get("lng"))}}),n.LocationCollection=t.Collection.extend({model:n.Location,constructor:function(){t.Collection.prototype.constructor.apply(this,arguments),t.Events.on("location:selected",function(t){this.each(function(e){t.cid!==e.cid&&e.deselect()})},this)}}),n.MapView=t.View.extend({mapEvents:{},overlayOptions:{},constructor:function(){if(t.View.prototype.constructor.apply(this,arguments),!google||!google.maps)throw Error("Google maps API is not loaded.");if(!this.options.map&&!this.map)throw Error("A map must be specified.");this.gOverlay=this.map=this.options.map||this.map,this.overlayOptions||(this.overlayOptions=this.options.overlayOptions)},bindMapEvents:function(t){t||(t=this.mapEvents);for(event in this.mapEvents){var e=this.mapEvents[event];google.maps.event.addListener(this.gOverlay,event,this[e])}},render:function(){return this.beforeRender&&this.beforeRender(),this.bindMapEvents(),this.onRender&&this.onRender(),this},close:function(){this.beforeClose&&this.beforeClose(),google.maps.event.clearInstanceListeners(this.gOverlay),this.gOverlay.setMap&&this.gOverlay.setMap(null),this.gOverlay=null,this.onClose&&this.onClose()}}),n.InfoWindow=n.MapView.extend({constructor:function(){if(n.MapView.prototype.constructor.apply(this,arguments),e.bindAll(this,"render","close"),!this.options.marker&&!this.marker)throw Error("A marker must be specified for InfoWindow view.");this.marker=this.options.marker||this.marker,this.template=this.template||this.options.template},render:function(){this.beforeRender&&this.beforeRender(),n.MapView.prototype.render.apply(this,arguments);var t=this.template?i(this.template).html():"<h2><%=title %></h2>";return this.$el.html(e.template(t,this.model.toJSON())),this.gOverlay=new google.maps.InfoWindow(e.extend({content:this.$el[0]},this.overlayOptions)),this.gOverlay.open(this.map,this.marker),this.onRender&&this.onRender(),this},close:function(){return this.beforeClose&&this.beforeClose(),n.MapView.prototype.close.apply(this,arguments),this.onClose&&this.onClose(),this}}),n.MarkerView=n.MapView.extend({infoWindow:n.InfoWindow,constructor:function(){if(n.MapView.prototype.constructor.apply(this,arguments),e.bindAll(this,"render","close","openDetail","closeDetail","toggleSelect"),!this.model)throw Error("A model must be specified for a MarkerView");this.gOverlay=new google.maps.Marker(e.extend({position:this.model.getLatlng(),map:this.map,title:this.model.title,animation:google.maps.Animation.DROP,visible:!1},this.overlayOptions)),e.extend(this.mapEvents,{click:"toggleSelect"}),this.model.on("selected",this.openDetail,this),this.model.on("deselected",this.closeDetail,this)},toggleSelect:function(){this.model.toggleSelect()},render:function(){return this.beforeRender&&this.beforeRender(),n.MapView.prototype.render.apply(this,arguments),this.gOverlay.setVisible(!0),this.onRender&&this.onRender(),this},close:function(){return this.beforeClose&&this.beforeClose(),this.closeDetail(),n.MapView.prototype.close.apply(this,arguments),this.model.off(),this.onClose&&this.onClose(),this},openDetail:function(){this.detailView=new this.infoWindow({model:this.model,map:this.map,marker:this.gOverlay}),this.detailView.render()},closeDetail:function(){this.detailView&&(this.detailView.close(),this.detailView=null)}}),n.MarkerCollectionView=t.View.extend({markerView:n.MarkerView,markerViewChildren:{},constructor:function(){if(t.View.prototype.constructor.apply(this,arguments),e.bindAll(this,"render","closeChildren","closeChild","addChild","refresh","close"),!this.options.map&&!this.map)throw Error("A map must be specified on MarkerCollectionView instantiation");this.map||(this.map=this.options.map),this.collection.on("reset",this.refresh,this),this.collection.on("add",this.addChild,this),this.collection.on("remove",this.closeChild,this)},render:function(t){var t=t||this.collection;return this.beforeRender&&this.beforeRender(),t.each(this.addChild),this.onRender&&this.onRender(),this},closeChildren:function(){for(cid in this.markerViewChildren)this.closeChild(this.markerViewChildren[cid])},closeChild:function(e){var i=e instanceof t.Model?this.markerViewChildren[e.cid]:e;i.close(),delete this.markerViewChildren[i.model.cid]},addChild:function(t){var e=new this.markerView({model:t,map:this.map});this.markerViewChildren[t.cid]=e,e.render()},refresh:function(){this.closeChildren(),this.render()},close:function(){this.closeChildren(),this.collection.off()}}),n}(Backbone,_,window.jQuery||window.Zepto||window.ender),MarkerClusterer.prototype.MARKER_CLUSTER_IMAGE_PATH_="http://google-maps-utility-library-v3.googlecode.com/svn/trunk/markerclusterer/images/m",MarkerClusterer.prototype.MARKER_CLUSTER_IMAGE_EXTENSION_="png",MarkerClusterer.prototype.extend=function(t,e){return function(t){for(var e in t.prototype)this.prototype[e]=t.prototype[e];return this}.apply(t,[e])},MarkerClusterer.prototype.onAdd=function(){this.setReady_(!0)},MarkerClusterer.prototype.draw=function(){},MarkerClusterer.prototype.setupStyles_=function(){if(!this.styles_.length)for(var t,e=0;t=this.sizes[e];e++)this.styles_.push({url:this.imagePath_+(e+1)+"."+this.imageExtension_,height:t,width:t})},MarkerClusterer.prototype.fitMapToMarkers=function(){for(var t,e=this.getMarkers(),i=new google.maps.LatLngBounds,n=0;t=e[n];n++)i.extend(t.getPosition());this.map_.fitBounds(i)},MarkerClusterer.prototype.setStyles=function(t){this.styles_=t},MarkerClusterer.prototype.getStyles=function(){return this.styles_},MarkerClusterer.prototype.isZoomOnClick=function(){return this.zoomOnClick_},MarkerClusterer.prototype.isAverageCenter=function(){return this.averageCenter_},MarkerClusterer.prototype.getMarkers=function(){return this.markers_},MarkerClusterer.prototype.getTotalMarkers=function(){return this.markers_.length},MarkerClusterer.prototype.setMaxZoom=function(t){this.maxZoom_=t},MarkerClusterer.prototype.getMaxZoom=function(){return this.maxZoom_},MarkerClusterer.prototype.calculator_=function(t,e){var i=0,n=t.length,r=n;while(r!==0)r=parseInt(r/10,10),i++;return i=Math.min(i,e),{text:n,index:i}},MarkerClusterer.prototype.setCalculator=function(t){this.calculator_=t},MarkerClusterer.prototype.getCalculator=function(){return this.calculator_},MarkerClusterer.prototype.addMarkers=function(t,e){for(var i,n=0;i=t[n];n++)this.pushMarkerTo_(i);e||this.redraw()},MarkerClusterer.prototype.pushMarkerTo_=function(t){if(t.isAdded=!1,t.draggable){var e=this;google.maps.event.addListener(t,"dragend",function(){t.isAdded=!1,e.repaint()})}this.markers_.push(t)},MarkerClusterer.prototype.addMarker=function(t,e){this.pushMarkerTo_(t),e||this.redraw()},MarkerClusterer.prototype.removeMarker_=function(t){var e=-1;if(this.markers_.indexOf)e=this.markers_.indexOf(t);else for(var i,n=0;i=this.markers_[n];n++)if(i==t){e=n;break}return e==-1?!1:(t.setMap(null),this.markers_.splice(e,1),!0)},MarkerClusterer.prototype.removeMarker=function(t,e){var i=this.removeMarker_(t);return!e&&i?(this.resetViewport(),this.redraw(),!0):!1},MarkerClusterer.prototype.removeMarkers=function(t,e){for(var i,n=!1,r=0;i=t[r];r++){var s=this.removeMarker_(i);n=n||s}return!e&&n?(this.resetViewport(),this.redraw(),!0):void 0},MarkerClusterer.prototype.setReady_=function(t){this.ready_||(this.ready_=t,this.createClusters_())},MarkerClusterer.prototype.getTotalClusters=function(){return this.clusters_.length},MarkerClusterer.prototype.getMap=function(){return this.map_},MarkerClusterer.prototype.setMap=function(t){this.map_=t},MarkerClusterer.prototype.getGridSize=function(){return this.gridSize_},MarkerClusterer.prototype.setGridSize=function(t){this.gridSize_=t},MarkerClusterer.prototype.getMinClusterSize=function(){return this.minClusterSize_},MarkerClusterer.prototype.setMinClusterSize=function(t){this.minClusterSize_=t},MarkerClusterer.prototype.getExtendedBounds=function(t){var e=this.getProjection(),i=new google.maps.LatLng(t.getNorthEast().lat(),t.getNorthEast().lng()),n=new google.maps.LatLng(t.getSouthWest().lat(),t.getSouthWest().lng()),r=e.fromLatLngToDivPixel(i);r.x+=this.gridSize_,r.y-=this.gridSize_;var s=e.fromLatLngToDivPixel(n);s.x-=this.gridSize_,s.y+=this.gridSize_;var o=e.fromDivPixelToLatLng(r),a=e.fromDivPixelToLatLng(s);return t.extend(o),t.extend(a),t},MarkerClusterer.prototype.isMarkerInBounds_=function(t,e){return e.contains(t.getPosition())},MarkerClusterer.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers_=[]},MarkerClusterer.prototype.resetViewport=function(t){for(var e,i=0;e=this.clusters_[i];i++)e.remove();for(var n,i=0;n=this.markers_[i];i++)n.isAdded=!1,t&&n.setMap(null);this.clusters_=[]},MarkerClusterer.prototype.repaint=function(){var t=this.clusters_.slice();this.clusters_.length=0,this.resetViewport(),this.redraw(),window.setTimeout(function(){for(var e,i=0;e=t[i];i++)e.remove()},0)},MarkerClusterer.prototype.redraw=function(){this.createClusters_()},MarkerClusterer.prototype.distanceBetweenPoints_=function(t,e){if(!t||!e)return 0;var i=6371,n=(e.lat()-t.lat())*Math.PI/180,r=(e.lng()-t.lng())*Math.PI/180,s=Math.sin(n/2)*Math.sin(n/2)+Math.cos(t.lat()*Math.PI/180)*Math.cos(e.lat()*Math.PI/180)*Math.sin(r/2)*Math.sin(r/2),o=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s)),a=i*o;return a},MarkerClusterer.prototype.addToClosestCluster_=function(t){var e=4e4,i=null;t.getPosition();for(var n,r=0;n=this.clusters_[r];r++){var s=n.getCenter();if(s){var o=this.distanceBetweenPoints_(s,t.getPosition());e>o&&(e=o,i=n)}}if(i&&i.isMarkerInClusterBounds(t))i.addMarker(t);else{var n=new Cluster(this);n.addMarker(t),this.clusters_.push(n)}},MarkerClusterer.prototype.createClusters_=function(){if(this.ready_)for(var t,e=new google.maps.LatLngBounds(this.map_.getBounds().getSouthWest(),this.map_.getBounds().getNorthEast()),i=this.getExtendedBounds(e),n=0;t=this.markers_[n];n++)!t.isAdded&&this.isMarkerInBounds_(t,i)&&this.addToClosestCluster_(t)},Cluster.prototype.isMarkerAlreadyAdded=function(t){if(this.markers_.indexOf)return this.markers_.indexOf(t)!=-1;for(var e,i=0;e=this.markers_[i];i++)if(e==t)return!0;return!1},Cluster.prototype.addMarker=function(t){if(this.isMarkerAlreadyAdded(t))return!1;if(this.center_){if(this.averageCenter_){var e=this.markers_.length+1,i=(this.center_.lat()*(e-1)+t.getPosition().lat())/e,n=(this.center_.lng()*(e-1)+t.getPosition().lng())/e;this.center_=new google.maps.LatLng(i,n),this.calculateBounds_()}}else this.center_=t.getPosition(),this.calculateBounds_();t.isAdded=!0,this.markers_.push(t);var r=this.markers_.length;if(this.minClusterSize_>r&&t.getMap()!=this.map_&&t.setMap(this.map_),r==this.minClusterSize_)for(var s=0;r>s;s++)this.markers_[s].setMap(null);return this.minClusterSize_>r||t.setMap(null),this.updateIcon(),!0},Cluster.prototype.getMarkerClusterer=function(){return this.markerClusterer_},Cluster.prototype.getBounds=function(){for(var t,e=new google.maps.LatLngBounds(this.center_,this.center_),i=this.getMarkers(),n=0;t=i[n];n++)e.extend(t.getPosition());return e},Cluster.prototype.remove=function(){this.clusterIcon_.remove(),this.markers_.length=0,delete this.markers_},Cluster.prototype.getSize=function(){return this.markers_.length},Cluster.prototype.getMarkers=function(){return this.markers_},Cluster.prototype.getCenter=function(){return this.center_},Cluster.prototype.calculateBounds_=function(){var t=new google.maps.LatLngBounds(this.center_,this.center_);this.bounds_=this.markerClusterer_.getExtendedBounds(t)},Cluster.prototype.isMarkerInClusterBounds=function(t){return this.bounds_.contains(t.getPosition())},Cluster.prototype.getMap=function(){return this.map_},Cluster.prototype.updateIcon=function(){var t=this.map_.getZoom(),e=this.markerClusterer_.getMaxZoom();if(e&&e<t)for(var i,n=0;i=this.markers_[n];n++)i.setMap(this.map_);else{if(this.minClusterSize_>this.markers_.length)return this.clusterIcon_.hide(),void 0;var r=this.markerClusterer_.getStyles().length,s=this.markerClusterer_.getCalculator()(this.markers_,r);this.clusterIcon_.setCenter(this.center_),this.clusterIcon_.setSums(s),this.clusterIcon_.show()}},ClusterIcon.prototype.triggerClusterClick=function(){var t=this.cluster_.getMarkerClusterer();google.maps.event.trigger(t,"clusterclick",this.cluster_),t.isZoomOnClick()&&this.map_.fitBounds(this.cluster_.getBounds())},ClusterIcon.prototype.onAdd=function(){if(this.div_=document.createElement("DIV"),this.visible_){var t=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(t),this.div_.innerHTML=this.sums_.text}var e=this.getPanes();e.overlayMouseTarget.appendChild(this.div_);var i=this;google.maps.event.addDomListener(this.div_,"click",function(){i.triggerClusterClick()})},ClusterIcon.prototype.getPosFromLatLng_=function(t){var e=this.getProjection().fromLatLngToDivPixel(t);return e.x-=parseInt(this.width_/2,10),e.y-=parseInt(this.height_/2,10),e},ClusterIcon.prototype.draw=function(){if(this.visible_){var t=this.getPosFromLatLng_(this.center_);this.div_.style.top=t.y+"px",this.div_.style.left=t.x+"px"}},ClusterIcon.prototype.hide=function(){this.div_&&(this.div_.style.display="none"),this.visible_=!1},ClusterIcon.prototype.show=function(){if(this.div_){var t=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(t),this.div_.style.display=""}this.visible_=!0},ClusterIcon.prototype.remove=function(){this.setMap(null)},ClusterIcon.prototype.onRemove=function(){this.div_&&this.div_.parentNode&&(this.hide(),this.div_.parentNode.removeChild(this.div_),this.div_=null)},ClusterIcon.prototype.setSums=function(t){this.sums_=t,this.text_=t.text,this.index_=t.index,this.div_&&(this.div_.innerHTML=t.text),this.useStyle()},ClusterIcon.prototype.useStyle=function(){var t=Math.max(0,this.sums_.index-1);t=Math.min(this.styles_.length-1,t);var e=this.styles_[t];this.url_=e.url,this.height_=e.height,this.width_=e.width,this.textColor_=e.textColor,this.anchor_=e.anchor,this.textSize_=e.textSize,this.backgroundPosition_=e.backgroundPosition},ClusterIcon.prototype.setCenter=function(t){this.center_=t},ClusterIcon.prototype.createCss=function(t){var e=[];e.push("background-image:url("+this.url_+");");var i=this.backgroundPosition_?this.backgroundPosition_:"0 0";e.push("background-position:"+i+";"),typeof this.anchor_=="object"?(typeof this.anchor_[0]=="number"&&this.anchor_[0]>0&&this.height_>this.anchor_[0]?e.push("height:"+(this.height_-this.anchor_[0])+"px; padding-top:"+this.anchor_[0]+"px;"):e.push("height:"+this.height_+"px; line-height:"+this.height_+"px;"),typeof this.anchor_[1]=="number"&&this.anchor_[1]>0&&this.width_>this.anchor_[1]?e.push("width:"+(this.width_-this.anchor_[1])+"px; padding-left:"+this.anchor_[1]+"px;"):e.push("width:"+this.width_+"px; text-align:center;")):e.push("height:"+this.height_+"px; line-height:"+this.height_+"px; width:"+this.width_+"px; text-align:center;");var n=this.textColor_?this.textColor_:"black",r=this.textSize_?this.textSize_:11;return e.push("cursor:pointer; top:"+t.y+"px; left:"+t.x+"px; color:"+n+"; position:absolute; font-size:"+r+"px; font-family:Arial,sans-serif; font-weight:bold"),e.join("")},window.MarkerClusterer=MarkerClusterer,MarkerClusterer.prototype.addMarker=MarkerClusterer.prototype.addMarker,MarkerClusterer.prototype.addMarkers=MarkerClusterer.prototype.addMarkers,MarkerClusterer.prototype.clearMarkers=MarkerClusterer.prototype.clearMarkers,MarkerClusterer.prototype.fitMapToMarkers=MarkerClusterer.prototype.fitMapToMarkers,MarkerClusterer.prototype.getCalculator=MarkerClusterer.prototype.getCalculator,MarkerClusterer.prototype.getGridSize=MarkerClusterer.prototype.getGridSize,MarkerClusterer.prototype.getExtendedBounds=MarkerClusterer.prototype.getExtendedBounds,MarkerClusterer.prototype.getMap=MarkerClusterer.prototype.getMap,MarkerClusterer.prototype.getMarkers=MarkerClusterer.prototype.getMarkers,MarkerClusterer.prototype.getMaxZoom=MarkerClusterer.prototype.getMaxZoom,MarkerClusterer.prototype.getStyles=MarkerClusterer.prototype.getStyles,MarkerClusterer.prototype.getTotalClusters=MarkerClusterer.prototype.getTotalClusters,MarkerClusterer.prototype.getTotalMarkers=MarkerClusterer.prototype.getTotalMarkers,MarkerClusterer.prototype.redraw=MarkerClusterer.prototype.redraw,MarkerClusterer.prototype.removeMarker=MarkerClusterer.prototype.removeMarker,MarkerClusterer.prototype.removeMarkers=MarkerClusterer.prototype.removeMarkers,MarkerClusterer.prototype.resetViewport=MarkerClusterer.prototype.resetViewport,MarkerClusterer.prototype.repaint=MarkerClusterer.prototype.repaint,MarkerClusterer.prototype.setCalculator=MarkerClusterer.prototype.setCalculator,MarkerClusterer.prototype.setGridSize=MarkerClusterer.prototype.setGridSize,MarkerClusterer.prototype.setMaxZoom=MarkerClusterer.prototype.setMaxZoom,MarkerClusterer.prototype.onAdd=MarkerClusterer.prototype.onAdd,MarkerClusterer.prototype.draw=MarkerClusterer.prototype.draw,Cluster.prototype.getCenter=Cluster.prototype.getCenter,Cluster.prototype.getSize=Cluster.prototype.getSize,Cluster.prototype.getMarkers=Cluster.prototype.getMarkers,ClusterIcon.prototype.onAdd=ClusterIcon.prototype.onAdd,ClusterIcon.prototype.draw=ClusterIcon.prototype.draw,ClusterIcon.prototype.onRemove=ClusterIcon.prototype.onRemove,function(t,e){function i(t){return!!(t===""||t&&t.charCodeAt&&t.substr)}function n(t){return c?c(t):p.call(t)==="[object Array]"}function r(t){return t&&p.call(t)==="[object Object]"}function s(t,e){var i;t=t||{},e=e||{};for(i in e)e.hasOwnProperty(i)&&t[i]==null&&(t[i]=e[i]);return t}function o(t,e,i){var n,r,s=[];if(!t)return s;if(h&&t.map===h)return t.map(e,i);for(n=0,r=t.length;r>n;n++)s[n]=e.call(i,t[n],n,t);return s}function a(t,e){return t=Math.round(Math.abs(t)),isNaN(t)?e:t}function u(t){var e=l.settings.currency.format;return typeof t=="function"&&(t=t()),i(t)&&t.match("%v")?{pos:t,neg:t.replace("-","").replace("%v","-%v"),zero:t}:t&&t.pos&&t.pos.match("%v")?t:i(e)?l.settings.currency.format={pos:e,neg:e.replace("%v","-%v"),zero:e}:e}var l={};l.version="0.3.2",l.settings={currency:{symbol:"$",format:"%s%v",decimal:".",thousand:",",precision:2,grouping:3},number:{precision:0,grouping:3,thousand:",",decimal:"."}};var h=Array.prototype.map,c=Array.isArray,p=Object.prototype.toString,f=l.unformat=l.parse=function(t,e){if(n(t))return o(t,function(t){return f(t,e)});if(t=t||0,typeof t=="number")return t;e=e||l.settings.number.decimal;var i=RegExp("[^0-9-"+e+"]",["g"]),r=parseFloat((""+t).replace(/\((.*)\)/,"-$1").replace(i,"").replace(e,"."));return isNaN(r)?0:r},d=l.toFixed=function(t,e){e=a(e,l.settings.number.precision);var i=Math.pow(10,e);return(Math.round(l.unformat(t)*i)/i).toFixed(e)},g=l.formatNumber=function(t,e,i,u){if(n(t))return o(t,function(t){return g(t,e,i,u)});t=f(t);var h=s(r(e)?e:{precision:e,thousand:i,decimal:u},l.settings.number),c=a(h.precision),p=0>t?"-":"",m=parseInt(d(Math.abs(t||0),c),10)+"",v=m.length>3?m.length%3:0;return p+(v?m.substr(0,v)+h.thousand:"")+m.substr(v).replace(/(\d{3})(?=\d)/g,"$1"+h.thousand)+(c?h.decimal+d(Math.abs(t),c).split(".")[1]:"")},m=l.formatMoney=function(t,e,i,h,c,p){if(n(t))return o(t,function(t){return m(t,e,i,h,c,p)});t=f(t);var d=s(r(e)?e:{symbol:e,precision:i,thousand:h,decimal:c,format:p},l.settings.currency),v=u(d.format),y=t>0?v.pos:0>t?v.neg:v.zero;return y.replace("%s",d.symbol).replace("%v",g(Math.abs(t),a(d.precision),d.thousand,d.decimal))};l.formatColumn=function(t,e,h,c,p,d){if(!t)return[];var m=s(r(e)?e:{symbol:e,precision:h,thousand:c,decimal:p,format:d},l.settings.currency),v=u(m.format),y=v.pos.indexOf("%v")>v.pos.indexOf("%s")?!0:!1,_=0,b=o(t,function(t){if(n(t))return l.formatColumn(t,m);t=f(t);var e=t>0?v.pos:0>t?v.neg:v.zero,i=e.replace("%s",m.symbol).replace("%v",g(Math.abs(t),a(m.precision),m.thousand,m.decimal));return i.length>_&&(_=i.length),i});return o(b,function(t){return i(t)&&_>t.length?y?t.replace(m.symbol,m.symbol+Array(_-t.length+1).join(" ")):Array(_-t.length+1).join(" ")+t:t})},typeof exports!="undefined"?(typeof module!="undefined"&&module.exports&&(exports=module.exports=l),exports.accounting=l):typeof define=="function"&&define.amd?define([],function(){return l}):(l.noConflict=function(i){return function(){return t.accounting=i,l.noConflict=e,l}}(t.accounting),t.accounting=l)}(this),function(t,e){var i=function(t){return new o(t)};i.version="0.1.3";var n=t.fxSetup||{rates:{},base:""};i.rates=n.rates,i.base=n.base,i.settings={from:n.from||i.base,to:n.to||i.base};var r=i.convert=function(t,e){if(typeof t=="object"&&t.length){for(var n=0;t.length>n;n++)t[n]=r(t[n],e);return t}return e=e||{},e.from||(e.from=i.settings.from),e.to||(e.to=i.settings.to),t*s(e.to,e.from)},s=function(t,e){var n=i.rates;if(n[i.base]=1,!n[t]||!n[e])throw"fx error";return e===i.base?n[t]:t===i.base?1/n[e]:n[t]*(1/n[e])},o=function(t){typeof t=="string"?(this._v=parseFloat(t.replace(/[^0-9-.]/g,"")),this._fx=t.replace(/([^A-Za-z])/g,"")):this._v=t},a=i.prototype=o.prototype;a.convert=function(){var t=Array.prototype.slice.call(arguments);return t.unshift(this._v),r.apply(i,t)},a.from=function(t){var e=i(r(this._v,{from:t,to:i.base}));return e._fx=i.base,e},a.to=function(t){return r(this._v,{from:this._fx?this._fx:i.settings.from,to:t})},typeof exports!="undefined"?(typeof module!="undefined"&&module.exports&&(exports=module.exports=i),exports.fx=i):typeof define=="function"&&define.amd?define([],function(){return i}):(i.noConflict=function(n){return function(){return t.fx=n,i.noConflict=e,i}}(t.fx),t.fx=i)}(this),typeof jQuery!="undefined"&&(jQuery.humaneDate=humaneDate,jQuery.fn.humaneDates=function(t){var e=jQuery.extend({lowercase:!1},t);return this.each(function(){var t=jQuery(this),i=t.attr("datetime")||t.attr("title");i=humaneDate(i),i&&e.lowercase&&(i=i.toLowerCase()),i&&t.html()!=i&&t.html(i)})}),function(){var t,e={}.hasOwnProperty,i=[].slice;((t=this.google)!=null?t.maps:void 0)!=null&&(this.OverlappingMarkerSpiderfier=function(){function t(t,i){var r,s,o,a,u,l,h=this;this.map=t,i==null&&(i={});for(s in i)e.call(i,s)&&(o=i[s],this[s]=o);for(this.projHelper=new this.constructor.ProjHelper(this.map),this.initMarkerArrays(),this.listeners={},l=["click","zoom_changed","maptypeid_changed"],a=0,u=l.length;u>a;a++)r=l[a],n.addListener(this.map,r,function(){return h.unspiderfy()})}var n,r,s,o,a,u,l,h,c,p,f;for(u=t.prototype,f=[t,u],c=0,p=f.length;p>c;c++)h=f[c],h.VERSION="0.3.3";return r=google.maps,n=r.event,a=r.MapTypeId,l=Math.PI*2,u.keepSpiderfied=!1,u.markersWontHide=!1,u.markersWontMove=!1,u.nearbyDistance=20,u.circleSpiralSwitchover=9,u.circleFootSeparation=23,u.circleStartAngle=l/12,u.spiralFootSeparation=26,u.spiralLengthStart=11,u.spiralLengthFactor=4,u.spiderfiedZIndex=1e3,u.usualLegZIndex=10,u.highlightedLegZIndex=20,u.legWeight=1.5,u.legColors={usual:{},highlighted:{}},o=u.legColors.usual,s=u.legColors.highlighted,o[a.HYBRID]=o[a.SATELLITE]="#fff",s[a.HYBRID]=s[a.SATELLITE]="#f00",o[a.TERRAIN]=o[a.ROADMAP]="#444",s[a.TERRAIN]=s[a.ROADMAP]="#f00",u.initMarkerArrays=function(){return this.markers=[],this.markerListenerRefs=[]},u.addMarker=function(t){var e,i=this;return t._oms!=null?this:(t._oms=!0,e=[n.addListener(t,"click",function(e){return i.spiderListener(t,e)})],this.markersWontHide||e.push(n.addListener(t,"visible_changed",function(){return i.markerChangeListener(t,!1)})),this.markersWontMove||e.push(n.addListener(t,"position_changed",function(){return i.markerChangeListener(t,!0)})),this.markerListenerRefs.push(e),this.markers.push(t),this)},u.markerChangeListener=function(t,e){return t._omsData==null||!e&&t.getVisible()||this.spiderfying!=null||this.unspiderfying!=null?void 0:this.unspiderfy(e?t:null)},u.getMarkers=function(){return this.markers.slice(0)},u.removeMarker=function(t){var e,i,r,s,o;if(t._omsData!=null&&this.unspiderfy(),e=this.arrIndexOf(this.markers,t),0>e)return this;for(r=this.markerListenerRefs.splice(e,1)[0],s=0,o=r.length;o>s;s++)i=r[s],n.removeListener(i);return delete t._oms,this.markers.splice(e,1),this},u.clearMarkers=function(){var t,e,i,r,s,o,a,u,l;for(this.unspiderfy(),l=this.markers,t=s=0,a=l.length;a>s;t=++s){for(r=l[t],i=this.markerListenerRefs[t],o=0,u=i.length;u>o;o++)e=i[o],n.removeListener(e);delete r._oms}return this.initMarkerArrays(),this},u.addListener=function(t,e){var i,n;return((n=(i=this.listeners)[t])!=null?n:i[t]=[]).push(e),this},u.removeListener=function(t,e){var i;return i=this.arrIndexOf(this.listeners[t],e),0>i||this.listeners[t].splice(i,1),this},u.clearListeners=function(t){return this.listeners[t]=[],this
},u.trigger=function(){var t,e,n,r,s,o,a,u;for(e=arguments[0],t=2>arguments.length?[]:i.call(arguments,1),a=(o=this.listeners[e])!=null?o:[],u=[],r=0,s=a.length;s>r;r++)n=a[r],u.push(n.apply(null,t));return u},u.generatePtsCircle=function(t,e){var i,n,s,o,a,u,h;for(s=this.circleFootSeparation*(2+t),a=s/l,n=l/t,h=[],o=u=0;0>t?u>t:t>u;o=0>t?--u:++u)i=this.circleStartAngle+o*n,h.push(new r.Point(e.x+a*Math.cos(i),e.y+a*Math.sin(i)));return h},u.generatePtsSpiral=function(t,e){var i,n,s,o,a,u;for(s=this.spiralLengthStart,i=0,u=[],n=a=0;0>t?a>t:t>a;n=0>t?--a:++a)i+=this.spiralFootSeparation/s+n*5e-4,o=new r.Point(e.x+s*Math.cos(i),e.y+s*Math.sin(i)),s+=l*this.spiralLengthFactor/i,u.push(o);return u},u.spiderListener=function(t,e){var i,n,r,s,o,a,u,l,h,c,p;if(s=t._omsData!=null,s&&this.keepSpiderfied||this.unspiderfy(),s||this.map.getStreetView().getVisible()||this.map.getMapTypeId()==="GoogleEarthAPI")return this.trigger("click",t,e);for(a=[],u=[],o=this.nearbyDistance,l=o*o,r=this.llToPt(t.position),p=this.markers,h=0,c=p.length;c>h;h++)i=p[h],i.map!=null&&i.getVisible()&&(n=this.llToPt(i.position),l>this.ptDistanceSq(n,r)?a.push({marker:i,markerPt:n}):u.push(i));return a.length===1?this.trigger("click",t,e):this.spiderfy(a,u)},u.markersNearMarker=function(t,e){var i,n,r,s,o,a,u,l,h,c,p;if(e==null&&(e=!1),this.projHelper.getProjection()==null)throw"Must wait for 'idle' event on map before calling markersNearMarker";for(o=this.nearbyDistance,a=o*o,r=this.llToPt(t.position),s=[],h=this.markers,u=0,l=h.length;l>u;u++)if(i=h[u],i!==t&&i.map!=null&&i.getVisible()&&(n=this.llToPt((c=(p=i._omsData)!=null?p.usualPosition:void 0)!=null?c:i.position),a>this.ptDistanceSq(n,r)&&(s.push(i),e)))break;return s},u.markersNearAnyOtherMarker=function(){var t,e,i,n,r,s,o,a,u,l,h,c,p,f,d,g,m,v,y,_,b;if(this.projHelper.getProjection()==null)throw"Must wait for 'idle' event on map before calling markersNearAnyOtherMarker";for(l=this.nearbyDistance,h=l*l,u=function(){var t,e,i,r,s,o;for(i=this.markers,o=[],t=0,e=i.length;e>t;t++)n=i[t],o.push({pt:this.llToPt((r=(s=n._omsData)!=null?s.usualPosition:void 0)!=null?r:n.position),willSpiderfy:!1});return o}.call(this),v=this.markers,e=c=0,d=v.length;d>c;e=++c)if(r=v[e],r.map!=null&&r.getVisible()&&(s=u[e],!s.willSpiderfy))for(y=this.markers,i=p=0,g=y.length;g>p;i=++p)if(o=y[i],i!==e&&o.map!=null&&o.getVisible()&&(a=u[i],(i>=e||a.willSpiderfy)&&h>this.ptDistanceSq(s.pt,a.pt))){s.willSpiderfy=a.willSpiderfy=!0;break}for(_=this.markers,b=[],t=f=0,m=_.length;m>f;t=++f)n=_[t],u[t].willSpiderfy&&b.push(n);return b},u.makeHighlightListenerFuncs=function(t){var e=this;return{highlight:function(){return t._omsData.leg.setOptions({strokeColor:e.legColors.highlighted[e.map.mapTypeId],zIndex:e.highlightedLegZIndex})},unhighlight:function(){return t._omsData.leg.setOptions({strokeColor:e.legColors.usual[e.map.mapTypeId],zIndex:e.usualLegZIndex})}}},u.spiderfy=function(t,e){var i,s,o,a,u,l,h,c,p,f,d;return this.spiderfying=!0,f=t.length,i=this.ptAverage(function(){var e,i,n;for(n=[],e=0,i=t.length;i>e;e++)c=t[e],n.push(c.markerPt);return n}()),a=this.circleSpiralSwitchover>f?this.generatePtsCircle(f,i):this.generatePtsSpiral(f,i).reverse(),d=function(){var e,i,c,f=this;for(c=[],e=0,i=a.length;i>e;e++)o=a[e],s=this.ptToLl(o),p=this.minExtract(t,function(t){return f.ptDistanceSq(t.markerPt,o)}),h=p.marker,l=new r.Polyline({map:this.map,path:[h.position,s],strokeColor:this.legColors.usual[this.map.mapTypeId],strokeWeight:this.legWeight,zIndex:this.usualLegZIndex}),h._omsData={usualPosition:h.position,leg:l},this.legColors.highlighted[this.map.mapTypeId]!==this.legColors.usual[this.map.mapTypeId]&&(u=this.makeHighlightListenerFuncs(h),h._omsData.hightlightListeners={highlight:n.addListener(h,"mouseover",u.highlight),unhighlight:n.addListener(h,"mouseout",u.unhighlight)}),h.setPosition(s),h.setZIndex(Math.round(this.spiderfiedZIndex+o.y)),c.push(h);return c}.call(this),delete this.spiderfying,this.spiderfied=!0,this.trigger("spiderfy",d,e)},u.unspiderfy=function(t){var e,i,r,s,o,a,u;if(t==null&&(t=null),this.spiderfied==null)return this;for(this.unspiderfying=!0,s=[],r=[],u=this.markers,o=0,a=u.length;a>o;o++)i=u[o],i._omsData!=null?(i._omsData.leg.setMap(null),i!==t&&i.setPosition(i._omsData.usualPosition),i.setZIndex(null),e=i._omsData.hightlightListeners,e!=null&&(n.removeListener(e.highlight),n.removeListener(e.unhighlight)),delete i._omsData,s.push(i)):r.push(i);return delete this.unspiderfying,delete this.spiderfied,this.trigger("unspiderfy",s,r),this},u.ptDistanceSq=function(t,e){var i,n;return i=t.x-e.x,n=t.y-e.y,i*i+n*n},u.ptAverage=function(t){var e,i,n,s,o,a;for(n=s=0,o=0,a=t.length;a>o;o++)i=t[o],n+=i.x,s+=i.y;return e=t.length,new r.Point(n/e,s/e)},u.llToPt=function(t){return this.projHelper.getProjection().fromLatLngToDivPixel(t)},u.ptToLl=function(t){return this.projHelper.getProjection().fromDivPixelToLatLng(t)},u.minExtract=function(t,e){var i,n,r,s,o,a,u;for(r=a=0,u=t.length;u>a;r=++a)s=t[r],o=e(s),(i===void 0||i===null||n>o)&&(n=o,i=r);return t.splice(i,1)[0]},u.arrIndexOf=function(t,e){var i,n,r,s;if(t.indexOf!=null)return t.indexOf(e);for(i=r=0,s=t.length;s>r;i=++r)if(n=t[i],n===e)return i;return-1},t.ProjHelper=function(t){return this.setMap(t)},t.ProjHelper.prototype=new r.OverlayView,t.ProjHelper.prototype.draw=function(){},t}())}.call(this),function(t,e){t["sketchfab-iframe"]=e()}(this,function(){var t,e,i;return function(n){function r(t,e){return b.call(t,e)}function s(t,e){var i,n,r,s,o,a,u,l,h,c,p=e&&e.split("/"),f=y.map,d=f&&f["*"]||{};if(t&&t.charAt(0)===".")if(e){for(p=p.slice(0,p.length-1),t=p.concat(t.split("/")),l=0;t.length>l;l+=1)if(c=t[l],c===".")t.splice(l,1),l-=1;else if(c===".."){if(l===1&&(t[2]===".."||t[0]===".."))break;l>0&&(t.splice(l-1,2),l-=2)}t=t.join("/")}else t.indexOf("./")===0&&(t=t.substring(2));if((p||d)&&f){for(i=t.split("/"),l=i.length;l>0;l-=1){if(n=i.slice(0,l).join("/"),p)for(h=p.length;h>0;h-=1)if(r=f[p.slice(0,h).join("/")],r&&(r=r[n])){s=r,o=l;break}if(s)break;!a&&d&&d[n]&&(a=d[n],u=l)}!s&&a&&(s=a,o=u),s&&(i.splice(0,o,s),t=i.join("/"))}return t}function o(t,e){return function(){return f.apply(n,w.call(arguments,0).concat([t,e]))}}function a(t){return function(e){return s(e,t)}}function u(t){return function(e){m[t]=e}}function l(t){if(r(v,t)){var e=v[t];delete v[t],_[t]=!0,p.apply(n,e)}if(!r(m,t)&&!r(_,t))throw Error("No "+t);return m[t]}function h(t){var e,i=t?t.indexOf("!"):-1;return i>-1&&(e=t.substring(0,i),t=t.substring(i+1,t.length)),[e,t]}function c(t){return function(){return y&&y.config&&y.config[t]||{}}}var p,f,d,g,m={},v={},y={},_={},b=Object.prototype.hasOwnProperty,w=[].slice;d=function(t,e){var i,n=h(t),r=n[0];return t=n[1],r&&(r=s(r,e),i=l(r)),r?t=i&&i.normalize?i.normalize(t,a(e)):s(t,e):(t=s(t,e),n=h(t),r=n[0],t=n[1],r&&(i=l(r))),{f:r?r+"!"+t:t,n:t,pr:r,p:i}},g={require:function(t){return o(t)},exports:function(t){var e=m[t];return e!==void 0?e:m[t]={}},module:function(t){return{id:t,uri:"",exports:m[t],config:c(t)}}},p=function(t,e,i,s){var a,h,c,p,f,y,b=[];if(s=s||t,typeof i=="function"){for(e=!e.length&&i.length?["require","exports","module"]:e,f=0;e.length>f;f+=1)if(p=d(e[f],s),h=p.f,h==="require")b[f]=g.require(t);else if(h==="exports")b[f]=g.exports(t),y=!0;else if(h==="module")a=b[f]=g.module(t);else if(r(m,h)||r(v,h)||r(_,h))b[f]=l(h);else{if(!p.p)throw Error(t+" missing "+h);p.p.load(p.n,o(s,!0),u(h),{}),b[f]=m[h]}c=i.apply(m[t],b),t&&(a&&a.exports!==n&&a.exports!==m[t]?m[t]=a.exports:c===n&&y||(m[t]=c))}else t&&(m[t]=i)},t=e=f=function(t,e,i,r,s){return typeof t=="string"?g[t]?g[t](e):l(d(t,e).f):(t.splice||(y=t,e.splice?(t=e,e=i,i=null):t=n),e=e||function(){},typeof i=="function"&&(i=r,r=s),r?p(n,t,e,i):setTimeout(function(){p(n,t,e,i)},4),f)},f.config=function(t){return y=t,y.deps&&f(y.deps,y.callback),f},i=function(t,e,i){e.splice||(i=e,e=[]),!r(m,t)&&!r(v,t)&&(v[t]=[t,e,i])},i.amd={jQuery:!0}}(),i("vendors/almond/almond",function(){}),function(t){"function"==typeof bootstrap?bootstrap("promise",t):"object"==typeof exports?t(void 0,exports):"function"==typeof i?i("vendors/q/q.min",t):"undefined"!=typeof ses?ses.ok()&&(ses.makeQ=function(){return t(void 0,{})}):t(void 0,Q={})}(function(t,e){function i(t,e){e.stack&&"object"==typeof t&&null!==t&&t.stack&&-1===t.stack.indexOf(R)&&(t.stack=n(t.stack)+"\n"+R+"\n"+n(e.stack))}function n(t){for(var t=t.split("\n"),e=[],i=0;t.length>i;++i){var n,r=t[i];if(n=/at .+ \((.*):(\d+):\d+\)/.exec(r)){var s=n[2];n=n[1]===x&&s>=C&&U>=s}else n=!1;!n&&-1===r.indexOf("(module.js:")&&-1===r.indexOf("(node.js:")&&e.push(r)}return e.join("\n")}function r(){if(Error.captureStackTrace){var t,e,i=Error.prepareStackTrace;return Error.prepareStackTrace=function(i,n){t=n[1].getFileName(),e=n[1].getLineNumber()},Error().stack,Error.prepareStackTrace=i,x=t,e}}function s(t,e,i){return function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(e+" is deprecated, use "+i+" instead.",Error("").stack),t.apply(t,arguments)}}function o(){function t(t){i&&(e=f(t),P(i,function(t,i){E(function(){e.promiseDispatch.apply(e,i)})},void 0),n=i=void 0)}var e,i=[],n=[],r=j(o.prototype),s=j(a.prototype);return s.promiseDispatch=function(t,r,s){var o=L(arguments);i?(i.push(o),"when"===r&&s[1]&&n.push(s[1])):E(function(){e.promiseDispatch.apply(e,o)})},s.valueOf=function(){return i?s:e.valueOf()},Error.captureStackTrace&&(Error.captureStackTrace(s,o),s.stack=s.stack.substring(s.stack.indexOf("\n")+1)),M(s),r.promise=s,r.resolve=t,r.reject=function(e){t(p(e))},r.notify=function(t){i&&P(n,function(e,i){E(function(){i(t)})},void 0)},r}function a(t,e,i,n){void 0===e&&(e=function(t){return p(Error("Promise does not support operation: "+t))});var r=j(a.prototype);return r.promiseDispatch=function(i,n,s){var o;try{o=t[n]?t[n].apply(r,s):e.call(r,n,s)}catch(a){o=p(a)}i&&i(o)},i&&(r.valueOf=i),n&&(r.exception=n),M(r),r}function u(t){return l(t)?t.valueOf():t}function l(t){return t&&"function"==typeof t.promiseDispatch}function h(t){return!l(u(t))}function c(t){return t=u(t),l(t)&&"exception"in t}function p(t){var t=t||Error(),e=a({when:function(e){if(e){var i=A(F,this);-1!==i&&(B.splice(i,1),F.splice(i,1))}return e?e(t):p(t)}},function(){return p(t)},function(){return this},t);return!z&&"undefined"!=typeof window&&!window.Touch&&window.console&&console.log("Should be empty:",B),z=!0,F.push(e),B.push(t),e}function f(t){if(l(t))return t;if((t=u(t))&&"function"==typeof t.then){var e=o();return t.then(e.resolve,e.reject,e.notify),e.promise}return a({when:function(){return t},get:function(e){return t[e]},put:function(e,i){return t[e]=i,t},del:function(e){return delete t[e],t},post:function(e,i){return t[e].apply(t,i)},apply:function(e){return t.apply(void 0,e)},keys:function(){return N(t)}},void 0,function(){return t})}function d(t,e,n,r){function s(t){try{return e?e(t):t}catch(i){return p(i)}}function a(t){if(n){i(t,h);try{return n(t)}catch(e){return p(e)}}return p(t)}var u=o(),l=!1,h=f(t);return E(function(){h.promiseDispatch(function(t){l||(l=!0,u.resolve(s(t)))},"when",[function(t){l||(l=!0,u.resolve(a(t)))}])}),h.promiseDispatch(void 0,"when",[,function(t){u.notify(r?r(t):t)}]),u.promise}function g(t,e,i){return d(t,function(t){return _(t).then(function(t){return e.apply(void 0,t)},i)},i)}function m(t,e,i){var n=o();return E(function(){f(t).promiseDispatch(n.resolve,e,i)}),n.promise}function v(t){return function(e){var i=L(arguments,1);return m(e,t,i)}}function y(t){var e=L(arguments,1);return V(t,e)}function _(t){return d(t,function(t){var e=t.length;if(0===e)return f(t);var i=o();return P(t,function(n,r,s){h(r)?(t[s]=u(r),0===--e&&i.resolve(t)):d(r,function(n){t[s]=n,0===--e&&i.resolve(t)}).fail(i.reject)},void 0),i.promise})}function b(t,e){return d(t,void 0,e)}function w(t,e){var i=L(arguments,2),n=o();return i.push(n.makeNodeResolver()),H(t,e,i).fail(n.reject),n.promise}var x,C=r(),k=function(){},M=Object.freeze||k;"undefined"!=typeof cajaVM&&(M=cajaVM.def);var E;if("undefined"!=typeof process)E=process.nextTick;else if("function"==typeof setImmediate)E=setImmediate;else if("undefined"!=typeof MessageChannel){var S=new MessageChannel,T={},$=T;S.port1.onmessage=function(){T=T.next;var t=T.task;delete T.task,t()},E=function(t){$=$.next={task:t},S.port2.postMessage(0)}}else E=function(t){setTimeout(t,0)};var O;Function.prototype.bind?(O=Function.prototype.bind,O=O.bind(O.call)):O=function(t){return function(){return t.call.apply(t,arguments)}};var I,L=O(Array.prototype.slice),P=O(Array.prototype.reduce||function(t,e){var i=0,n=this.length;if(arguments.length===1)for(;;){if(i in this){e=this[i++];break}if(++i>=n)throw new TypeError}for(;n>i;i++)i in this&&(e=t(e,this[i],i));return e}),A=O(Array.prototype.indexOf||function(t){for(var e=0;this.length>e;e++)if(this[e]===t)return e;return-1}),D=O(Array.prototype.map||function(t,e){var i=this,n=[];return P(i,function(r,s,o){n.push(t.call(e,s,o,i))},void 0),n}),j=Object.create||function(t){function e(){}return e.prototype=t,new e},N=Object.keys||function(t){var e,i=[];for(e in t)i.push(e);return i},W=Object.prototype.toString;I="undefined"!=typeof ReturnValue?ReturnValue:function(t){this.value=t};var R="From previous event:";e.nextTick=E,e.defer=o,o.prototype.makeNodeResolver=function(){var t=this;return function(e,i){e?t.reject(e):arguments.length>2?t.resolve(L(arguments,1)):t.resolve(i)}},e.promise=function(t){var e=o();return y(t,e.resolve,e.reject,e.notify).fail(e.reject),e.promise},e.makePromise=a,a.prototype.then=function(t,e,i){return d(this,t,e,i)},a.prototype.thenResolve=function(t){return d(this,function(){return t})},P("isResolved isFulfilled isRejected dispatch when spread get put del post send invoke keys fapply fcall fbind all allResolved timeout delay catch finally fail fin progress end done nfcall nfapply nfbind ncall napply nbind npost nsend ninvoke nend nodeify".split(" "),function(t,i){a.prototype[i]=function(){return e[i].apply(e,[this].concat(L(arguments)))}},void 0),a.prototype.toSource=function(){return this+""},a.prototype.toString=function(){return"[object Promise]"},M(a.prototype),e.nearer=u,e.isPromise=l,e.isResolved=function(t){return h(t)||c(t)},e.isFulfilled=h,e.isRejected=c;var z,F=[],B=[];e.reject=p,e.resolve=f,e.master=function(t){return a({isDef:function(){}},function(e,i){return m(t,e,i)},function(){return u(t)})},e.when=d,e.spread=g,e.async=function(t){return function(){function e(t,e){var s;try{s=i[t](e)}catch(o){return W(o)==="[object StopIteration]"||o instanceof I?o.value:p(o)}return d(s,n,r)}var i=t.apply(this,arguments),n=e.bind(e,"send"),r=e.bind(e,"throw");return n()}},e["return"]=function(t){throw new I(t)},e.promised=function(t){return function(){return g([this,_(arguments)],function(e,i){return t.apply(e,i)})}},e.dispatch=m,e.dispatcher=v,e.get=v("get"),e.put=v("put"),e["delete"]=e.del=v("del");var H=e.post=v("post");e.send=function(t,e){var i=L(arguments,2);return H(t,e,i)},e.invoke=s(e.send,"invoke","send");var V=e.fapply=v("apply");e["try"]=y,e.fcall=y,e.fbind=function(t){var e=L(arguments,1);return function(){var i=e.concat(L(arguments));return V(t,i)}},e.keys=v("keys"),e.all=_,e.allResolved=function(t){return d(t,function(t){return d(_(D(t,function(t){return d(t,k,k)})),function(){return D(t,f)})})},e["catch"]=e.fail=b,e.progress=function(t,e){return d(t,void 0,void 0,e)},e["finally"]=e.fin=function(t,e){return d(t,function(t){return d(e(),function(){return t})},function(t){return d(e(),function(){return p(t)})})},e.done=function(t,n,r,s){n=n||r||s?d(t,n,r,s):t,b(n,function(n){E(function(){if(i(n,t),!e.onerror)throw n;e.onerror(n)})})},e.timeout=function(t,e){var i=o(),n=setTimeout(function(){i.reject(Error("Timed out after "+e+" ms"))},e);return d(t,function(t){clearTimeout(n),i.resolve(t)},function(t){clearTimeout(n),i.reject(t)}),i.promise},e.delay=function(t,e){e===void 0&&(e=t,t=void 0);var i=o();return setTimeout(function(){i.resolve(t)},e),i.promise},e.nfapply=function(t,e){var i=L(e),n=o();return i.push(n.makeNodeResolver()),V(t,i).fail(n.reject),n.promise},e.nfcall=function(t){var e=L(arguments,1),i=o();return e.push(i.makeNodeResolver()),V(t,e).fail(i.reject),i.promise},e.nfbind=function(t){var e=L(arguments,1);return function(){var i=e.concat(L(arguments)),n=o();return i.push(n.makeNodeResolver()),V(t,i).fail(n.reject),n.promise}},e.npost=function(t,e,i){var i=L(i),n=o();return i.push(n.makeNodeResolver()),H(t,e,i).fail(n.reject),n.promise},e.nsend=w,e.ninvoke=s(w,"ninvoke","nsend"),e.nodeify=function(t,e){return e?(t.then(function(t){E(function(){e(null,t)})},function(t){E(function(){e(t)})}),void 0):t};var U=r()}),i("api/sketchfab-iframe",["vendors/q/q.min"],function(t){var e=function(t){this._iframe=t,t.src="about:blank",this._uid=void 0,this._domain=window.location.href.search("sketchfab")===-1?window.location.protocol+"//sketchfab.com":"///"+window.location.hostname,this._callback=void 0,this._events={};var e=this,i=function(t){t.data!==void 0&&t.data.source!==void 0&&e.message(t.data)};window.addEventListener("message",i,!1),this._messageFunction=i},i=function(t,e){if(t.error!==void 0){if(t.status==="lookat"&&t.error==="camera animation not finished")return;this._events[t.status].reject(t.error),e&&(this._events[t.status]=void 0)}else this._events[t.status].resolve!==void 0&&(this._events[t.status].resolve(t),e&&(this._events[t.status]=void 0))};return e.prototype={setMessageCallback:function(t){this._callback=t},message:function(t){t.source===this._uid&&(t.status!==void 0&&(t.status==="load"?i.call(this,t,!1):i.call(this,t,!0)),this._callback&&this._callback.call(this,t))},load:function(e,i){if(this._events.load!==void 0)return this._events.load.promise;var n=this,r=function(t){var e="?preload=1";return i&&Object.keys(i).forEach(function(t){var n;i[t]!==void 0&&(n=i[t]+""),e+="&"+t+"="+n}),n._domain+"/embed/"+t+e};this._uid=e,this._events.load=t.defer();var s=r(e);return this._iframe.src=s,this._events.load.promise},start:function(){return this._events.start!==void 0?this._events.start.promise:(this._events.start=t.defer(),this._iframe.contentWindow.postMessage({command:"start"},"*"),this._events.start.promise)},autospin:function(e){return this._events.autospin!==void 0?this._events.autospin.promise:(this._events.autospin=t.defer(),this._iframe.contentWindow.postMessage({command:"autospin",spin:e},"*"),this._events.autospin.promise)},lookat:function(e,i,n){var r="lookat";return this._events[r]!==void 0&&!this._events[r].promise.isResolved()&&this._events[r].reject("new animation ran"),this._events[r]=t.defer(),this._iframe.contentWindow.postMessage({command:r,eye:e,target:i,duration:n},"*"),this._events[r].promise},stop:function(){return this._events.stop!==void 0?this._events.stop.promise:(this._events.stop=t.defer(),this._iframe.contentWindow.postMessage({command:"stop"},"*"),this._events.stop.promise)},finish:function(){window.removeEventListener("message",this._messageFunction)}},e.Q=t,e}),i("lib/sketchfab-iframe",["require","api/sketchfab-iframe"],function(t){var e=t("api/sketchfab-iframe"),i=e.Q;return{version:"0.0.1",Sketchfab:e,Q:i}}),e("lib/sketchfab-iframe")});var define,__slice=[].slice;define=function(t,e,i){var n,r,s,o,a,u;for(3>arguments.length&&(a=[typeof exports!="undefined"?exports:window].concat(__slice.call(arguments)),t=a[0],e=a[1],i=a[2]),r=t,u=e.split("."),s=0,o=u.length;o>s;s++)n=u[s],r=r[n]||(r[n]={});i(r,t)},define("mobone",function(t){return t.namespace=define}),define("mobone.math",function(t){var e;return e=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e,i;return e=Math.random()*16|0,i=t==="x"?e:e&3|8,i.toString(16)})},t.uuid=e});var __bind=function(t,e){return function(){return t.apply(e,arguments)}};define("mobone.string",function(t){var e,i,n,r,s,o;return e={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#39;"},String.prototype.htmlEscape=function(){return this.replace(/[&"'><]/g,function(t){return e[t]})},String.prototype.startsWith=function(t){return this.indexOf(t)===0},String.prototype.endsWith=function(t){return-1!==this.indexOf(t,this.length-t.length)},String.prototype.toTitleCase=function(){return this.replace(/\w\S*/g,function(t){return""+t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()})},r=function(t){return t=decodeURIComponent(t),t.replace(/\+/g," ")},i=function(){function t(t){t!=null&&_.extend(this.options,t)}return t.prototype.options={urlClass:"url",hashtagClass:"hashtag",usernameClass:"username",listClass:"badge",usernameUrlBase:"/",listUrlBase:"/",hashtagUrlBase:"/query?q=%23",suppressNoFollow:!1},t.prototype.internationalise=function(t){return t},t.prototype.autolink=function(t){return twttr.txt.autoLink(t,this.options)},t.prototype.escape=function(t){return(t+"").htmlEscape()},t.prototype.process=function(t){return this.internationalise(this.autolink(this.escape(t)))},t}(),n=function(){function t(t){this.templateFromId=__bind(this.templateFromId,this),this.template=__bind(this.template,this),t!=null&&_.extend(this.syntax,t)}return t.prototype.escape="mobone.string.processor.escape",t.prototype.process="mobone.string.processor.process",t.prototype.syntax={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%-([\s\S]+?)%>/g,escape:/<%=([\s\S]+?)%>/g,process:/<%~([\s\S]+?)%>/g},t.prototype.template=function(t,e){var i,n,r,s,o,a=this;return r="var __p=[],print=function(){__p.push.apply(__p,arguments);};\nwith(obj||{}){__p.push('",s="');}return __p.join('');",i=t.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(this.syntax.interpolate,function(t,e){return e=e.replace(/\\'/g,"'"),"',"+e+",'"}).replace(this.syntax.escape,function(t,e){return e=e.replace(/\\'/g,"'"),"',"+a.escape+"("+e+"),'"}).replace(this.syntax.process,function(t,e){return e=e.replace(/\\'/g,"'"),"',"+a.process+"("+e+"),'"}).replace(this.syntax.evaluate||null,function(t,e){return e=e.replace(/\\'/g,"'").replace(/[\r\n\t]/g," "),"');"+e+"__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t"),o=""+r+i+s,n=Function("obj",o),e?n(e):n},t.prototype.templateFromId=function(t,e){var i;return i=$("#"+t),i.length>0?this.template(i.html(),e):typeof console!="undefined"&&console!==null&&console.warn!=null?console.warn("Template #"+t+" does not exist"):void 0},t}(),t.decode=r,t.Processor=i,t.TemplateFactory=n,o=new i,t.processor=o,s=new n,t.template=s.template,t.templateFromId=s.templateFromId});var __hasProp={}.hasOwnProperty,__extends=function(t,e){function i(){this.constructor=t}for(var n in e)__hasProp.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},__bind=function(t,e){return function(){return t.apply(e,arguments)}};if(define("mobone.view",function(t){var e,i,n,r,s,o,a,u;return i=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.prototype.snapshot=function(){},e.prototype.restore=function(){},e.prototype.show=function(){},e.prototype.hide=function(){},e}(Backbone.View),u=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.prototype.show=function(){return $(this.el).show()},e.prototype.hide=function(){return $(this.el).hide()},e}(i),o=function(t){function e(){var t=this;e.__super__.constructor.apply(this,arguments),this.el.bind("pagebeforeshow",function(e,i){return t.restore(e,e.target,i.prevPage)}),this.el.bind("pagebeforehide",function(e,i){return t.snapshot(e,e.target,i.nextPage)}),this.el.bind("pageshow",function(e,i){return t.show(e,e.target,i.prevPage)}),this.el.bind("pagehide",function(e,i){return t.hide(e,e.target,i.nextPage)})}return __extends(e,t),e}(i),r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e}(o),a=function(t){function e(){return this.handleClick=__bind(this.handleClick,this),e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.prototype.events={vclick:"handleClick"},e.prototype.handleClick=function(t){var e,i,n,r;return r=$(t.target).closest("a"),!r.length>0||(n=r.data("relative-path"),n==null)?void 0:(i=window.location.pathname,i.endsWith("/")||(i=""+i+"/"),n.startsWith("/")&&(n=n.slice(1)),e=""+i+n,r.attr("href",e))},e}(Backbone.View),n=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.prototype.initialize=function(){return this.model.bind("change",this.render),this.model.bind("destroy",this.remove),this.model.view=this,this.render()},e}(Backbone.View),e=function(t){function e(){return this.reset=__bind(this.reset,this),this.add=__bind(this.add,this),e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.prototype.add=function(){},e.prototype.reset=function(){return this.collection.each(this.add)},e.prototype.initialize=function(){return this.collection.bind("add",this.add),this.collection.bind("reset",this.reset),this.collection.bind("remove",function(t){return t.view.remove()}),this.collection.each(this.add)},e}(Backbone.View),s=function(t){function e(){return this.logout=__bind(this.logout,this),e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.prototype.events={"click .logout-link":"logout"},e.prototype.logout=function(){return this.$logout_form.submit(),!1},e.prototype.initialize=function(){return this.$logout_form=$(".logout-form")},e}(Backbone.View),t.Widget=u,t.Page=o,t.Dialog=r,t.RelativeButton=a,t.BaseWidget=n,t.BaseListing=e,t.LogoutWidget=s}),define("assetgen",function(t){var e,i,n;return String.prototype.startsWith==null&&(String.prototype.startsWith=function(t){return this.indexOf(t)===0}),String.prototype.endsWith==null&&(String.prototype.endsWith=function(t){return-1!==this.indexOf(t,this.length-t.length)}),n={},e=function(t){var e;return e=t.asset_path,!e.endsWith("/"),n[e]=t},i=function(t){var e,i,r,s;for(e in n)if(s=n[e],t.startsWith(e))return i=t.split(e),r=i.slice(1,i.length).join(e),r in s.data&&(r=s.data[r]),s.serving_path+r;return t},t.add_manifest=e,t.static_url=i,t.static_path=i}),typeof jQuery=="undefined")throw Error("Bootstrap requires jQuery");+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(t.style[i]!==void 0)return{end:e[i]}}t.fn.emulateTransitionEnd=function(e){var i=!1,n=this;t(this).one(t.support.transition.end,function(){i=!0});var r=function(){i||t(n).trigger(t.support.transition.end)};return setTimeout(r,e),this},t(function(){t.support.transition=e()})}(jQuery),+function(t){"use strict";var e='[data-dismiss="alert"]',i=function(i){t(i).on("click",e,this.close)};i.prototype.close=function(e){function i(){s.trigger("closed.bs.alert").remove()}var n=t(this),r=n.attr("data-target");r||(r=n.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));var s=t(r);e&&e.preventDefault(),s.length||(s=n.hasClass("alert")?n:n.parent()),s.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(s.removeClass("in"),t.support.transition&&s.hasClass("fade")?s.one(t.support.transition.end,i).emulateTransitionEnd(150):i())};var n=t.fn.alert;t.fn.alert=function(e){return this.each(function(){var n=t(this),r=n.data("bs.alert");r||n.data("bs.alert",r=new i(this)),typeof e=="string"&&r[e].call(n)})},t.fn.alert.Constructor=i,t.fn.alert.noConflict=function(){return t.fn.alert=n,this},t(document).on("click.bs.alert.data-api",e,i.prototype.close)}(jQuery),+function(t){"use strict";var e=function(i,n){this.$element=t(i),this.options=t.extend({},e.DEFAULTS,n)};e.DEFAULTS={loadingText:"loading..."},e.prototype.setState=function(t){var e="disabled",i=this.$element,n=i.is("input")?"val":"html",r=i.data();t+="Text",r.resetText||i.data("resetText",i[n]()),i[n](r[t]||this.options[t]),setTimeout(function(){t=="loadingText"?i.addClass(e).attr(e,e):i.removeClass(e).removeAttr(e)},0)},e.prototype.toggle=function(){var t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var e=this.$element.find("input").prop("checked",!this.$element.hasClass("active")).trigger("change");e.prop("type")==="radio"&&t.find(".active").removeClass("active")}this.$element.toggleClass("active")};var i=t.fn.button;t.fn.button=function(i){return this.each(function(){var n=t(this),r=n.data("bs.button"),s=typeof i=="object"&&i;r||n.data("bs.button",r=new e(this,s)),i=="toggle"?r.toggle():i&&r.setState(i)})},t.fn.button.Constructor=e,t.fn.button.noConflict=function(){return t.fn.button=i,this},t(document).on("click.bs.button.data-api","[data-toggle^=button]",function(e){var i=t(e.target);i.hasClass("btn")||(i=i.closest(".btn")),i.button("toggle"),e.preventDefault()})}(jQuery),+function(t){"use strict";var e=function(e,i){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=this.sliding=this.interval=this.$active=this.$items=null,this.options.pause=="hover"&&this.$element.on("mouseenter",t.proxy(this.pause,this)).on("mouseleave",t.proxy(this.cycle,this))};e.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},e.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},e.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},e.prototype.to=function(e){var i=this,n=this.getActiveIndex();return e>this.$items.length-1||0>e?void 0:this.sliding?this.$element.one("slid",function(){i.to(e)}):n==e?this.pause().cycle():this.slide(e>n?"next":"prev",t(this.$items[e]))},e.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition.end&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},e.prototype.next=function(){return this.sliding?void 0:this.slide("next")},e.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},e.prototype.slide=function(e,i){var n=this.$element.find(".item.active"),r=i||n[e](),s=this.interval,o=e=="next"?"left":"right",a=e=="next"?"first":"last",u=this;if(!r.length){if(!this.options.wrap)return;r=this.$element.find(".item")[a]()}this.sliding=!0,s&&this.pause();var l=t.Event("slide.bs.carousel",{relatedTarget:r[0],direction:o});if(!r.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var e=t(u.$indicators.children()[u.getActiveIndex()]);e&&e.addClass("active")})),t.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(l),l.isDefaultPrevented())return;r.addClass(e),r[0].offsetWidth,n.addClass(o),r.addClass(o),n.one(t.support.transition.end,function(){r.removeClass([e,o].join(" ")).addClass("active"),n.removeClass(["active",o].join(" ")),u.sliding=!1,setTimeout(function(){u.$element.trigger("slid")},0)}).emulateTransitionEnd(600)}else{if(this.$element.trigger(l),l.isDefaultPrevented())return;n.removeClass("active"),r.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return s&&this.cycle(),this}};var i=t.fn.carousel;t.fn.carousel=function(i){return this.each(function(){var n=t(this),r=n.data("bs.carousel"),s=t.extend({},e.DEFAULTS,n.data(),typeof i=="object"&&i),o=typeof i=="string"?i:s.slide;r||n.data("bs.carousel",r=new e(this,s)),typeof i=="number"?r.to(i):o?r[o]():s.interval&&r.pause().cycle()})},t.fn.carousel.Constructor=e,t.fn.carousel.noConflict=function(){return t.fn.carousel=i,this},t(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(e){var i,n=t(this),r=t(n.attr("data-target")||(i=n.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"")),s=t.extend({},r.data(),n.data()),o=n.attr("data-slide-to");o&&(s.interval=!1),r.carousel(s),(o=n.attr("data-slide-to"))&&r.data("bs.carousel").to(o),e.preventDefault()
}),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var e=t(this);e.carousel(e.data())})})}(jQuery),+function(t){"use strict";var e=function(i,n){this.$element=t(i),this.options=t.extend({},e.DEFAULTS,n),this.transitioning=null,this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};e.DEFAULTS={toggle:!0},e.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},e.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e=t.Event("show.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var i=this.$parent&&this.$parent.find("> .panel > .in");if(i&&i.length){var n=i.data("bs.collapse");if(n&&n.transitioning)return;i.collapse("hide"),n||i.data("bs.collapse",null)}var r=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[r](0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("in")[r]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return s.call(this);var o=t.camelCase(["scroll",r].join("-"));this.$element.one(t.support.transition.end,t.proxy(s,this)).emulateTransitionEnd(350)[r](this.$element[0][o])}}},e.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var n=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return t.support.transition?(this.$element[i](0).one(t.support.transition.end,t.proxy(n,this)).emulateTransitionEnd(350),void 0):n.call(this)}}},e.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var i=t.fn.collapse;t.fn.collapse=function(i){return this.each(function(){var n=t(this),r=n.data("bs.collapse"),s=t.extend({},e.DEFAULTS,n.data(),typeof i=="object"&&i);r||n.data("bs.collapse",r=new e(this,s)),typeof i=="string"&&r[i]()})},t.fn.collapse.Constructor=e,t.fn.collapse.noConflict=function(){return t.fn.collapse=i,this},t(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(e){var i,n=t(this),r=n.attr("data-target")||e.preventDefault()||(i=n.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""),s=t(r),o=s.data("bs.collapse"),a=o?"toggle":n.data(),u=n.attr("data-parent"),l=u&&t(u);o&&o.transitioning||(l&&l.find('[data-toggle=collapse][data-parent="'+u+'"]').not(n).addClass("collapsed"),n[s.hasClass("in")?"addClass":"removeClass"]("collapsed")),s.collapse(a)})}(jQuery),+function(t){"use strict";function e(){t(n).remove(),t(r).each(function(e){var n=i(t(this));n.hasClass("open")&&(n.trigger(e=t.Event("hide.bs.dropdown")),e.isDefaultPrevented()||n.removeClass("open").trigger("hidden.bs.dropdown"))})}function i(e){var i=e.attr("data-target");i||(i=e.attr("href"),i=i&&/#/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var n=i&&t(i);return n&&n.length?n:e.parent()}var n=".dropdown-backdrop",r="[data-toggle=dropdown]",s=function(e){t(e).on("click.bs.dropdown",this.toggle)};s.prototype.toggle=function(n){var r=t(this);if(!r.is(".disabled, :disabled")){var s=i(r),o=s.hasClass("open");if(e(),!o){if("ontouchstart"in document.documentElement&&!s.closest(".navbar-nav").length&&t('<div class="dropdown-backdrop"/>').insertAfter(t(this)).on("click",e),s.trigger(n=t.Event("show.bs.dropdown")),n.isDefaultPrevented())return;s.toggleClass("open").trigger("shown.bs.dropdown"),r.focus()}return!1}},s.prototype.keydown=function(e){if(/(38|40|27)/.test(e.keyCode)){var n=t(this);if(e.preventDefault(),e.stopPropagation(),!n.is(".disabled, :disabled")){var s=i(n),o=s.hasClass("open");if(!o||o&&e.keyCode==27)return e.which==27&&s.find(r).focus(),n.click();var a=t("[role=menu] li:not(.divider):visible a",s);if(a.length){var u=a.index(a.filter(":focus"));e.keyCode==38&&u>0&&u--,e.keyCode==40&&a.length-1>u&&u++,~u||(u=0),a.eq(u).focus()}}}};var o=t.fn.dropdown;t.fn.dropdown=function(e){return this.each(function(){var i=t(this),n=i.data("dropdown");n||i.data("dropdown",n=new s(this)),typeof e=="string"&&n[e].call(i)})},t.fn.dropdown.Constructor=s,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=o,this},t(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",r,s.prototype.toggle).on("keydown.bs.dropdown.data-api",r+", [role=menu]",s.prototype.keydown)}(jQuery),+function(t){"use strict";var e=function(e,i){this.options=i,this.$element=t(e),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.load(this.options.remote)};e.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},e.prototype.toggle=function(t){return this[this.isShown?"hide":"show"](t)},e.prototype.show=function(e){var i=this,n=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(n),this.isShown||n.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.backdrop(function(){var n=t.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(document.body),i.$element.show(),n&&i.$element[0].offsetWidth,i.$element.addClass("in").attr("aria-hidden",!1),i.enforceFocus();var r=t.Event("shown.bs.modal",{relatedTarget:e});n?i.$element.find(".modal-dialog").one(t.support.transition.end,function(){i.$element.focus().trigger(r)}).emulateTransitionEnd(300):i.$element.focus().trigger(r)}))},e.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one(t.support.transition.end,t.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},e.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.focus()},this))},e.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",t.proxy(function(t){t.which==27&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},e.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.removeBackdrop(),t.$element.trigger("hidden.bs.modal")})},e.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},e.prototype.backdrop=function(e){var i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var n=t.support.transition&&i;if(this.$backdrop=t('<div class="modal-backdrop '+i+'" />').appendTo(document.body),this.$element.on("click.dismiss.modal",t.proxy(function(t){t.target===t.currentTarget&&(this.options.backdrop=="static"?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),n&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;n?this.$backdrop.one(t.support.transition.end,e).emulateTransitionEnd(150):e()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(t.support.transition.end,e).emulateTransitionEnd(150):e()):e&&e()};var i=t.fn.modal;t.fn.modal=function(i,n){return this.each(function(){var r=t(this),s=r.data("bs.modal"),o=t.extend({},e.DEFAULTS,r.data(),typeof i=="object"&&i);s||r.data("bs.modal",s=new e(this,o)),typeof i=="string"?s[i](n):o.show&&s.show(n)})},t.fn.modal.Constructor=e,t.fn.modal.noConflict=function(){return t.fn.modal=i,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var i=t(this),n=i.attr("href"),r=t(i.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,"")),s=r.data("modal")?"toggle":t.extend({remote:!/#/.test(n)&&n},r.data(),i.data());e.preventDefault(),r.modal(s,this).one("hide",function(){i.is(":visible")&&i.focus()})}),t(document).on("show.bs.modal",".modal",function(){t(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){t(document.body).removeClass("modal-open")})}(jQuery),+function(t){"use strict";var e=function(t,e){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",t,e)};e.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},e.prototype.init=function(e,i,n){this.enabled=!0,this.type=e,this.$element=t(i),this.options=this.getOptions(n);for(var r=this.options.trigger.split(" "),s=r.length;s--;){var o=r[s];if(o=="click")this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if(o!="manual"){var a=o=="hover"?"mouseenter":"focus",u=o=="hover"?"mouseleave":"blur";this.$element.on(a+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(u+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),e},e.prototype.getDelegateOptions=function(){var e={},i=this.getDefaults();return this._options&&t.each(this._options,function(t,n){i[t]!=n&&(e[t]=n)}),e},e.prototype.enter=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?(i.timeout=setTimeout(function(){i.hoverState=="in"&&i.show()},i.options.delay.show),void 0):i.show()},e.prototype.leave=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?(i.timeout=setTimeout(function(){i.hoverState=="out"&&i.hide()},i.options.delay.hide),void 0):i.hide()},e.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(e),e.isDefaultPrevented())return;var i=this.tip();this.setContent(),this.options.animation&&i.addClass("fade");var n=typeof this.options.placement=="function"?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement,r=/\s?auto?\s?/i,s=r.test(n);s&&(n=n.replace(r,"")||"top"),i.detach().css({top:0,left:0,display:"block"}).addClass(n),this.options.container?i.appendTo(this.options.container):i.insertAfter(this.$element);var o=this.getPosition(),a=i[0].offsetWidth,u=i[0].offsetHeight;if(s){var l=this.$element.parent(),h=n,c=document.documentElement.scrollTop||document.body.scrollTop,p=this.options.container=="body"?window.innerWidth:l.outerWidth(),f=this.options.container=="body"?window.innerHeight:l.outerHeight(),d=this.options.container=="body"?0:l.offset().left;n=n=="bottom"&&o.top+o.height+u-c>f?"top":n=="top"&&0>o.top-c-u?"bottom":n=="right"&&o.right+a>p?"left":n=="left"&&d>o.left-a?"right":n,i.removeClass(h).addClass(n)}var g=this.getCalculatedOffset(n,o,a,u);this.applyPlacement(g,n),this.$element.trigger("shown.bs."+this.type)}},e.prototype.applyPlacement=function(t,e){var i,n=this.tip(),r=n[0].offsetWidth,s=n[0].offsetHeight,o=parseInt(n.css("margin-top"),10),a=parseInt(n.css("margin-left"),10);isNaN(o)&&(o=0),isNaN(a)&&(a=0),t.top=t.top+o,t.left=t.left+a,n.offset(t).addClass("in");var u=n[0].offsetWidth,l=n[0].offsetHeight;if(e=="top"&&l!=s&&(i=!0,t.top=t.top+s-l),/bottom|top/.test(e)){var h=0;0>t.left&&(h=t.left*-2,t.left=0,n.offset(t),u=n[0].offsetWidth,l=n[0].offsetHeight),this.replaceArrow(h-r+u,u,"left")}else this.replaceArrow(l-s,l,"top");i&&n.offset(t)},e.prototype.replaceArrow=function(t,e,i){this.arrow().css(i,t?50*(1-t/e)+"%":"")},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},e.prototype.hide=function(){function e(){i.hoverState!="in"&&n.detach()}var i=this,n=this.tip(),r=t.Event("hide.bs."+this.type);return this.$element.trigger(r),r.isDefaultPrevented()?void 0:(n.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?n.one(t.support.transition.end,e).emulateTransitionEnd(150):e(),this.$element.trigger("hidden.bs."+this.type),this)},e.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||typeof t.attr("data-original-title")!="string")&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},e.prototype.hasContent=function(){return this.getTitle()},e.prototype.getPosition=function(){var e=this.$element[0];return t.extend({},typeof e.getBoundingClientRect=="function"?e.getBoundingClientRect():{width:e.offsetWidth,height:e.offsetHeight},this.$element.offset())},e.prototype.getCalculatedOffset=function(t,e,i,n){return t=="bottom"?{top:e.top+e.height,left:e.left+e.width/2-i/2}:t=="top"?{top:e.top-n,left:e.left+e.width/2-i/2}:t=="left"?{top:e.top+e.height/2-n/2,left:e.left-i}:{top:e.top+e.height/2-n/2,left:e.left+e.width}},e.prototype.getTitle=function(){var t,e=this.$element,i=this.options;return t=e.attr("data-original-title")||(typeof i.title=="function"?i.title.call(e[0]):i.title)},e.prototype.tip=function(){return this.$tip=this.$tip||t(this.options.template)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},e.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},e.prototype.enable=function(){this.enabled=!0},e.prototype.disable=function(){this.enabled=!1},e.prototype.toggleEnabled=function(){this.enabled=!this.enabled},e.prototype.toggle=function(e){var i=e?t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;i.tip().hasClass("in")?i.leave(i):i.enter(i)},e.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var i=t.fn.tooltip;t.fn.tooltip=function(i){return this.each(function(){var n=t(this),r=n.data("bs.tooltip"),s=typeof i=="object"&&i;r||n.data("bs.tooltip",r=new e(this,s)),typeof i=="string"&&r[i]()})},t.fn.tooltip.Constructor=e,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=i,this}}(jQuery),+function(t){"use strict";var e=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw Error("Popover requires tooltip.js");e.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),e.prototype.constructor=e,e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content")[this.options.html?"html":"text"](i),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},e.prototype.hasContent=function(){return this.getTitle()||this.getContent()},e.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||(typeof e.content=="function"?e.content.call(t[0]):e.content)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},e.prototype.tip=function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip};var i=t.fn.popover;t.fn.popover=function(i){return this.each(function(){var n=t(this),r=n.data("bs.popover"),s=typeof i=="object"&&i;r||n.data("bs.popover",r=new e(this,s)),typeof i=="string"&&r[i]()})},t.fn.popover.Constructor=e,t.fn.popover.noConflict=function(){return t.fn.popover=i,this}}(jQuery),+function(t){"use strict";function e(i,n){var r,s=t.proxy(this.process,this);this.$element=t(i).is("body")?t(window):t(i),this.$body=t("body"),this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",s),this.options=t.extend({},e.DEFAULTS,n),this.selector=(this.options.target||(r=t(i).attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.offsets=t([]),this.targets=t([]),this.activeTarget=null,this.refresh(),this.process()}e.DEFAULTS={offset:10},e.prototype.refresh=function(){var e=this.$element[0]==window?"offset":"position";this.offsets=t([]),this.targets=t([]);var i=this;this.$body.find(this.selector).map(function(){var n=t(this),r=n.data("target")||n.attr("href"),s=/^#\w/.test(r)&&t(r);return s&&s.length&&[[s[e]().top+(!t.isWindow(i.$scrollElement.get(0))&&i.$scrollElement.scrollTop()),r]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){i.offsets.push(this[0]),i.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,i=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,n=i-this.$scrollElement.height(),r=this.offsets,s=this.targets,o=this.activeTarget;if(e>=n)return o!=(t=s.last()[0])&&this.activate(t);for(t=r.length;t--;)!(o==s[t]||r[t]>e||r[t+1]&&e>r[t+1]||!this.activate(s[t]))},e.prototype.activate=function(e){this.activeTarget=e,t(this.selector).parents(".active").removeClass("active");var i=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',n=t(i).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate")};var i=t.fn.scrollspy;t.fn.scrollspy=function(i){return this.each(function(){var n=t(this),r=n.data("bs.scrollspy"),s=typeof i=="object"&&i;r||n.data("bs.scrollspy",r=new e(this,s)),typeof i=="string"&&r[i]()})},t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=i,this},t(window).on("load",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);e.scrollspy(e.data())})})}(jQuery),+function(t){"use strict";var e=function(e){this.element=t(e)};e.prototype.show=function(){var e=this.element,i=e.closest("ul:not(.dropdown-menu)"),n=e.data("target");if(n||(n=e.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var r=i.find(".active:last a")[0],s=t.Event("show.bs.tab",{relatedTarget:r});if(e.trigger(s),!s.isDefaultPrevented()){var o=t(n);this.activate(e.parent("li"),i),this.activate(o,o.parent(),function(){e.trigger({type:"shown.bs.tab",relatedTarget:r})})}}},e.prototype.activate=function(e,i,n){function r(){s.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),o?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),n&&n()}var s=i.find("> .active"),o=n&&t.support.transition&&s.hasClass("fade");o?s.one(t.support.transition.end,r).emulateTransitionEnd(150):r(),s.removeClass("in")};var i=t.fn.tab;t.fn.tab=function(i){return this.each(function(){var n=t(this),r=n.data("bs.tab");r||n.data("bs.tab",r=new e(this)),typeof i=="string"&&r[i]()})},t.fn.tab.Constructor=e,t.fn.tab.noConflict=function(){return t.fn.tab=i,this},t(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault(),t(this).tab("show")})}(jQuery),+function(t){"use strict";var e=function(i,n){this.options=t.extend({},e.DEFAULTS,n),this.$window=t(window).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(i),this.affixed=this.unpin=null,this.checkPosition()};e.RESET="affix affix-top affix-bottom",e.DEFAULTS={offset:0},e.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},e.prototype.checkPosition=function(){if(this.$element.is(":visible")){var i=t(document).height(),n=this.$window.scrollTop(),r=this.$element.offset(),s=this.options.offset,o=s.top,a=s.bottom;typeof s!="object"&&(a=o=s),typeof o=="function"&&(o=s.top()),typeof a=="function"&&(a=s.bottom());var u=this.unpin==null||n+this.unpin>r.top?a==null||i-a>r.top+this.$element.height()?o==null||n>o?!1:"top":"bottom":!1;this.affixed!==u&&(this.unpin&&this.$element.css("top",""),this.affixed=u,this.unpin=u=="bottom"?r.top-n:null,this.$element.removeClass(e.RESET).addClass("affix"+(u?"-"+u:"")),u=="bottom"&&this.$element.offset({top:document.body.offsetHeight-a-this.$element.height()}))}};var i=t.fn.affix;t.fn.affix=function(i){return this.each(function(){var n=t(this),r=n.data("bs.affix"),s=typeof i=="object"&&i;r||n.data("bs.affix",r=new e(this,s)),typeof i=="string"&&r[i]()})},t.fn.affix.Constructor=e,t.fn.affix.noConflict=function(){return t.fn.affix=i,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var e=t(this),i=e.data();i.offset=i.offset||{},i.offsetBottom&&(i.offset.bottom=i.offsetBottom),i.offsetTop&&(i.offset.top=i.offsetTop),e.affix(i)})})}(jQuery),+function(t){"use strict";var e=window.navigator.appName=="Microsoft Internet Explorer",i=function(e,i){if(this.$element=t(e),this.$input=this.$element.find(":file"),this.$input.length!==0){this.name=this.$input.attr("name")||i.name,this.$hidden=this.$element.find('input[type=hidden][name="'+this.name+'"]'),this.$hidden.length===0&&(this.$hidden=t('<input type="hidden" />'),this.$element.prepend(this.$hidden)),this.$preview=this.$element.find(".fileinput-preview");var n=this.$preview.css("height");this.$preview.css("display")!="inline"&&n!="0px"&&n!="none"&&this.$preview.css("line-height",n),this.original={exists:this.$element.hasClass("fileinput-exists"),preview:this.$preview.html(),hiddenVal:this.$hidden.val()},this.listen()}};i.prototype.listen=function(){this.$input.on("change.bs.fileinput",t.proxy(this.change,this)),t(this.$input[0].form).on("reset.bs.fileinput",t.proxy(this.reset,this)),this.$element.find('[data-trigger="fileinput"]').on("click.bs.fileinput",t.proxy(this.trigger,this)),this.$element.find('[data-dismiss="fileinput"]').on("click.bs.fileinput",t.proxy(this.clear,this))},i.prototype.change=function(e){if(e.target.files===void 0&&(e.target.files=e.target&&e.target.value?[{name:e.target.value.replace(/^.+\\/,"")}]:[]),e.target.files.length!==0){this.$hidden.val(""),this.$hidden.attr("name",""),this.$input.attr("name",this.name);var i=e.target.files[0];if(this.$preview.length>0&&(i.type!==void 0?i.type.match("image.*"):i.name.match(/\.(gif|png|jpe?g)$/i))&&typeof FileReader!="undefined"){var n=new FileReader,r=this.$preview,s=this.$element;n.onload=function(n){var o=t("<img>").attr("src",n.target.result);e.target.files[0].result=n.target.result,s.find(".fileinput-filename").text(i.name),r.css("max-height")!="none"&&o.css("max-height",parseInt(r.css("max-height"),10)-parseInt(r.css("padding-top"),10)-parseInt(r.css("padding-bottom"),10)-parseInt(r.css("border-top"),10)-parseInt(r.css("border-bottom"),10)),r.html(o),s.addClass("fileinput-exists").removeClass("fileinput-new"),s.trigger("change.bs.fileinput",e.target.files)},n.readAsDataURL(i)}else this.$element.find(".fileinput-filename").text(i.name),this.$preview.text(i.name),this.$element.addClass("fileinput-exists").removeClass("fileinput-new"),this.$element.trigger("change.bs.fileinput")}},i.prototype.clear=function(t){if(t&&t.preventDefault(),this.$hidden.val(""),this.$hidden.attr("name",this.name),this.$input.attr("name",""),e){var i=this.$input.clone(!0);this.$input.after(i),this.$input.remove(),this.$input=i}else this.$input.val("");this.$preview.html(""),this.$element.find(".fileinput-filename").text(""),this.$element.addClass("fileinput-new").removeClass("fileinput-exists"),t!==!1&&(this.$input.trigger("change"),this.$element.trigger("clear.bs.fileinput"))},i.prototype.reset=function(){this.clear(!1),this.$hidden.val(this.original.hiddenVal),this.$preview.html(this.original.preview),this.$element.find(".fileinput-filename").text(""),this.original.exists?this.$element.addClass("fileinput-exists").removeClass("fileinput-new"):this.$element.addClass("fileinput-new").removeClass("fileinput-exists"),this.$element.trigger("reset.bs.fileinput")},i.prototype.trigger=function(t){this.$input.trigger("click"),t.preventDefault()},t.fn.fileinput=function(e){return this.each(function(){var n=t(this),r=n.data("fileinput");r||n.data("fileinput",r=new i(this,e)),typeof e=="string"&&r[e]()})},t.fn.fileinput.Constructor=i,t(document).on("click.fileinput.data-api",'[data-provides="fileinput"]',function(e){var i=t(this);if(!i.data("fileinput")){i.fileinput(i.data());var n=t(e.target).closest('[data-dismiss="fileinput"],[data-trigger="fileinput"]');n.length>0&&(e.preventDefault(),n.trigger("click.bs.fileinput"))}})}(window.jQuery),!function(t){"use strict";var e=function(e,i){this.$element=t(e);var n=this.$element.get(0).getAttribute("value"),r=this.$element.prop("value");r&&r!=="None"||this.$element.val(n||""),this.options=t.extend({},t.fn.typeahead.defaults,i),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.$menu=t(this.options.menu).appendTo("body"),this.source=this.options.source,this.onselect=this.options.onselect,this.strings=!0,this.shown=!1,this.listen()};e.prototype={constructor:e,select:function(){var t,e=JSON.parse(this.$menu.find(".active").attr("data-value"));return t=this.strings?e:e[this.options.property],this.$element.val(t),typeof this.onselect=="function"&&this.onselect(e),this.hide()},show:function(){var e=t.extend({},this.$element.offset(),{height:this.$element[0].offsetHeight});return this.$menu.css({top:e.top+e.height,left:e.left}),this.$menu.show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(){var t;this.query=this.$element.val(),typeof this.source=="function"?(t=this.source(this,this.query),t&&this.process(t)):this.process(this.source)},process:function(e){var i,n=this;return e.length&&typeof e[0]!="string"&&(this.strings=!1),this.query=this.$element.val(),this.query?(i=t.grep(e,function(t){return n.strings||(t=t[n.options.property]),n.matcher(t)?t:void 0}),i=this.sorter(i),i.length?this.render(i.slice(0,this.options.items)).show():this.shown?this.hide():this):this.shown?this.hide():this},matcher:function(t){return~t.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(t){var e,i,n=[],r=[],s=[];while(e=t.shift())i=this.strings?e:e[this.options.property],i.toLowerCase().indexOf(this.query.toLowerCase())?~i.indexOf(this.query)?r.push(e):s.push(e):n.push(e);return n.concat(r,s)},highlighter:function(t){return t.replace(RegExp("("+this.query+")","ig"),function(t,e){return"<strong>"+e+"</strong>"})},render:function(e){var i=this;return e=t(e).map(function(e,n){return e=t(i.options.item).attr("data-value",JSON.stringify(n)),i.strings||(n=n[i.options.property]),e.find("a").html(i.highlighter(n)),e[0]}),e.first().addClass("active"),this.$menu.html(e),this},next:function(){var e=this.$menu.find(".active").removeClass("active"),i=e.next();i.length||(i=t(this.$menu.find("li")[0])),i.addClass("active")},prev:function(){var t=this.$menu.find(".active").removeClass("active"),e=t.prev();e.length||(e=this.$menu.find("li").last()),e.addClass("active")},listen:function(){this.$element.on("blur",t.proxy(this.blur,this)).on("keypress",t.proxy(this.keypress,this)).on("keyup",t.proxy(this.keyup,this)),(t.browser.webkit||t.browser.msie)&&this.$element.on("keydown",t.proxy(this.keypress,this)),this.$menu.on("mousedown",t.proxy(this.click,this)).on("mouseenter","li",t.proxy(this.mouseenter,this))},keyup:function(t){switch(t.stopPropagation(),t.preventDefault(),t.keyCode){case 40:case 38:break;case 13:if(!this.shown)return;this.select();break;case 9:var e=this;t.stopPropagation(),t.preventDefault(),setTimeout(function(){e.hide()},150);break;case 27:this.hide();break;default:this.lookup()}},keypress:function(t){if(t.stopPropagation(),this.shown)switch(t.keyCode){case 9:case 13:case 27:t.preventDefault();break;case 38:t.preventDefault(),this.prev();break;case 40:t.preventDefault(),this.next()}},blur:function(t){var e=this;t.stopPropagation(),t.preventDefault(),setTimeout(function(){e.hide()},150)},click:function(t){console.log(t),t.stopPropagation(),t.preventDefault(),this.select()},mouseenter:function(e){this.$menu.find(".active").removeClass("active"),t(e.currentTarget).addClass("active")}},t.fn.typeahead=function(i){return this.each(function(){var n=t(this),r=n.data("typeahead"),s=typeof i=="object"&&i;r||n.data("typeahead",r=new e(this,s)),typeof i=="string"&&r[i]()})},t.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',onselect:null,property:"value"},t.fn.typeahead.Constructor=e,t(function(){t("body").on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(e){var i=t(this);i.data("typeahead")||(e.preventDefault(),i.typeahead(i.data()))})})}(window.jQuery)